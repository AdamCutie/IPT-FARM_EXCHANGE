(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Hu={exports:{}},ti={},Wu={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=Symbol.for("react.element"),Ah=Symbol.for("react.portal"),$h=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),Dh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),Mh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Fh=Symbol.for("react.memo"),Bh=Symbol.for("react.lazy"),ha=Symbol.iterator;function Hh(t){return t===null||typeof t!="object"?null:(t=ha&&t[ha]||t["@@iterator"],typeof t=="function"?t:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,Ku={};function Hn(t,e,n){this.props=t,this.context=e,this.refs=Ku,this.updater=n||qu}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gu(){}Gu.prototype=Hn.prototype;function dl(t,e,n){this.props=t,this.context=e,this.refs=Ku,this.updater=n||qu}var hl=dl.prototype=new Gu;hl.constructor=dl;Vu(hl,Hn.prototype);hl.isPureReactComponent=!0;var fa=Array.isArray,Qu=Object.prototype.hasOwnProperty,fl={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Yu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qu.call(e,r)&&!Ju.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ur,type:t,key:i,ref:o,props:s,_owner:fl.current}}function Wh(t,e){return{$$typeof:Ur,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ur}function qh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pa=/\/+/g;function Ei(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qh(""+t.key):e.toString(36)}function ys(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ur:case Ah:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ei(o,0):r,fa(s)?(n="",t!=null&&(n=t.replace(pa,"$&/")+"/"),ys(s,e,n,"",function(c){return c})):s!=null&&(pl(s)&&(s=Wh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",fa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Ei(i,l);o+=ys(i,e,n,a,s)}else if(a=Hh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Ei(i,l++),o+=ys(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qr(t,e,n){if(t==null)return t;var r=[],s=0;return ys(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Vh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},vs={transition:null},Kh={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:vs,ReactCurrentOwner:fl};function Xu(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:Qr,forEach:function(t,e,n){Qr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qr(t,function(){e++}),e},toArray:function(t){return Qr(t,function(e){return e})||[]},only:function(t){if(!pl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};I.Component=Hn;I.Fragment=$h;I.Profiler=Ih;I.PureComponent=dl;I.StrictMode=Lh;I.Suspense=zh;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kh;I.act=Xu;I.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=fl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Qu.call(e,a)&&!Ju.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ur,type:t.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(t){return t={$$typeof:Uh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dh,_context:t},t.Consumer=t};I.createElement=Yu;I.createFactory=function(t){var e=Yu.bind(null,t);return e.type=t,e};I.createRef=function(){return{current:null}};I.forwardRef=function(t){return{$$typeof:Mh,render:t}};I.isValidElement=pl;I.lazy=function(t){return{$$typeof:Bh,_payload:{_status:-1,_result:t},_init:Vh}};I.memo=function(t,e){return{$$typeof:Fh,type:t,compare:e===void 0?null:e}};I.startTransition=function(t){var e=vs.transition;vs.transition={};try{t()}finally{vs.transition=e}};I.unstable_act=Xu;I.useCallback=function(t,e){return xe.current.useCallback(t,e)};I.useContext=function(t){return xe.current.useContext(t)};I.useDebugValue=function(){};I.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};I.useEffect=function(t,e){return xe.current.useEffect(t,e)};I.useId=function(){return xe.current.useId()};I.useImperativeHandle=function(t,e,n){return xe.current.useImperativeHandle(t,e,n)};I.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};I.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};I.useMemo=function(t,e){return xe.current.useMemo(t,e)};I.useReducer=function(t,e,n){return xe.current.useReducer(t,e,n)};I.useRef=function(t){return xe.current.useRef(t)};I.useState=function(t){return xe.current.useState(t)};I.useSyncExternalStore=function(t,e,n){return xe.current.useSyncExternalStore(t,e,n)};I.useTransition=function(){return xe.current.useTransition()};I.version="18.3.1";Wu.exports=I;var P=Wu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=P,Qh=Symbol.for("react.element"),Jh=Symbol.for("react.fragment"),Yh=Object.prototype.hasOwnProperty,Xh=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zh={key:!0,ref:!0,__self:!0,__source:!0};function Zu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yh.call(e,r)&&!Zh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Qh,type:t,key:i,ref:o,props:s,_owner:Xh.current}}ti.Fragment=Jh;ti.jsx=Zu;ti.jsxs=Zu;Hu.exports=ti;var u=Hu.exports,ec={exports:{}},Re={},tc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var A=T.length;T.push(R);e:for(;0<A;){var Y=A-1>>>1,ie=T[Y];if(0<s(ie,R))T[Y]=R,T[A]=ie,A=Y;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var R=T[0],A=T.pop();if(A!==R){T[0]=A;e:for(var Y=0,ie=T.length,Kr=ie>>>1;Y<Kr;){var zt=2*(Y+1)-1,ji=T[zt],Ft=zt+1,Gr=T[Ft];if(0>s(ji,A))Ft<ie&&0>s(Gr,ji)?(T[Y]=Gr,T[Ft]=A,Y=Ft):(T[Y]=ji,T[zt]=A,Y=zt);else if(Ft<ie&&0>s(Gr,A))T[Y]=Gr,T[Ft]=A,Y=Ft;else break e}}return R}function s(T,R){var A=T.sortIndex-R.sortIndex;return A!==0?A:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,y=!1,v=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=T)r(c),R.sortIndex=R.expirationTime,e(a,R);else break;R=n(c)}}function w(T){if(_=!1,g(T),!v)if(n(a)!==null)v=!0,ki(x);else{var R=n(c);R!==null&&Si(w,R.startTime-T)}}function x(T,R){v=!1,_&&(_=!1,p(C),C=-1),y=!0;var A=f;try{for(g(R),h=n(a);h!==null&&(!(h.expirationTime>R)||T&&!ee());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ie=Y(h.expirationTime<=R);R=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(a)&&r(a),g(R)}else r(a);h=n(a)}if(h!==null)var Kr=!0;else{var zt=n(c);zt!==null&&Si(w,zt.startTime-R),Kr=!1}return Kr}finally{h=null,f=A,y=!1}}var k=!1,b=null,C=-1,V=5,E=-1;function ee(){return!(t.unstable_now()-E<V)}function Ut(){if(b!==null){var T=t.unstable_now();E=T;var R=!0;try{R=b(!0,T)}finally{R?Mt():(k=!1,b=null)}}else k=!1}var Mt;if(typeof m=="function")Mt=function(){m(Ut)};else if(typeof MessageChannel<"u"){var Vr=new MessageChannel,Oh=Vr.port2;Vr.port1.onmessage=Ut,Mt=function(){Oh.postMessage(null)}}else Mt=function(){j(Ut,0)};function ki(T){b=T,k||(k=!0,Mt())}function Si(T,R){C=j(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ki(x))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var A=f;f=R;try{return T()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=f;f=T;try{return R()}finally{f=A}},t.unstable_scheduleCallback=function(T,R,A){var Y=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Y+A:Y):A=Y,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=A+ie,T={id:d++,callback:R,priorityLevel:T,startTime:A,expirationTime:ie,sortIndex:-1},A>Y?(T.sortIndex=A,e(c,T),n(a)===null&&T===n(c)&&(_?(p(C),C=-1):_=!0,Si(w,A-Y))):(T.sortIndex=ie,e(a,T),v||y||(v=!0,ki(x))),T},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(T){var R=f;return function(){var A=f;f=R;try{return T.apply(this,arguments)}finally{f=A}}}})(nc);tc.exports=nc;var ef=tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=P,Oe=ef;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rc=new Set,xr={};function sn(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(xr[t]=e,t=0;t<e.length;t++)rc.add(e[t])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ma={},ga={};function rf(t){return io.call(ga,t)?!0:io.call(ma,t)?!1:nf.test(t)?ga[t]=!0:(ma[t]=!0,!1)}function sf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function of(t,e,n,r){if(e===null||typeof e>"u"||sf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function gl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ml,gl);de[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ml,gl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ml,gl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function yl(t,e,n,r){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(of(e,n,s,r)&&(n=null),r||s===null?rf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),oo=Symbol.for("react.profiler"),sc=Symbol.for("react.provider"),ic=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),lo=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),xl=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),oc=Symbol.for("react.offscreen"),ya=Symbol.iterator;function Gn(t){return t===null||typeof t!="object"?null:(t=ya&&t[ya]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,bi;function rr(t){if(bi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bi=e&&e[1]||""}return`
`+bi+t}var Ni=!1;function Ci(t,e){if(!t||Ni)return"";Ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ni=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rr(t):""}function lf(t){switch(t.tag){case 5:return rr(t.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return t=Ci(t.type,!1),t;case 11:return t=Ci(t.type.render,!1),t;case 1:return t=Ci(t.type,!0),t;default:return""}}function uo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vn:return"Fragment";case yn:return"Portal";case oo:return"Profiler";case vl:return"StrictMode";case lo:return"Suspense";case ao:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ic:return(t.displayName||"Context")+".Consumer";case sc:return(t._context.displayName||"Context")+".Provider";case wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xl:return e=t.displayName||null,e!==null?e:uo(t.type)||"Memo";case yt:e=t._payload,t=t._init;try{return uo(t(e))}catch{}}return null}function af(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uo(e);case 8:return e===vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uf(t){var e=lc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yr(t){t._valueTracker||(t._valueTracker=uf(t))}function ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function co(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function va(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uc(t,e){e=e.checked,e!=null&&yl(t,"checked",e,!1)}function ho(t,e){uc(t,e);var n=Rt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fo(t,e.type,n):e.hasOwnProperty("defaultValue")&&fo(t,e.type,Rt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fo(t,e,n){(e!=="number"||Ts(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sr=Array.isArray;function Tn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function po(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(sr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rt(n)}}function cc(t,e){var n=Rt(e.value),r=Rt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _a(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xr,hc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _r(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cf=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(t){cf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ar[e]=ar[t]})});function fc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ar.hasOwnProperty(t)&&ar[t]?(""+e).trim():e+"px"}function pc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var df=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(t,e){if(e){if(df[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function yo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function _l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wo=null,Pn=null,On=null;function ka(t){if(t=Fr(t)){if(typeof wo!="function")throw Error(S(280));var e=t.stateNode;e&&(e=oi(e),wo(t.stateNode,t.type,e))}}function mc(t){Pn?On?On.push(t):On=[t]:Pn=t}function gc(){if(Pn){var t=Pn,e=On;if(On=Pn=null,ka(t),e)for(t=0;t<e.length;t++)ka(e[t])}}function yc(t,e){return t(e)}function vc(){}var Ti=!1;function wc(t,e,n){if(Ti)return t(e,n);Ti=!0;try{return yc(t,e,n)}finally{Ti=!1,(Pn!==null||On!==null)&&(vc(),gc())}}function kr(t,e){var n=t.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var xo=!1;if(ut)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{xo=!1}function hf(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ur=!1,Ps=null,Os=!1,_o=null,ff={onError:function(t){ur=!0,Ps=t}};function pf(t,e,n,r,s,i,o,l,a){ur=!1,Ps=null,hf.apply(ff,arguments)}function mf(t,e,n,r,s,i,o,l,a){if(pf.apply(this,arguments),ur){if(ur){var c=Ps;ur=!1,Ps=null}else throw Error(S(198));Os||(Os=!0,_o=c)}}function on(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sa(t){if(on(t)!==t)throw Error(S(188))}function gf(t){var e=t.alternate;if(!e){if(e=on(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sa(s),t;if(i===r)return Sa(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function _c(t){return t=gf(t),t!==null?kc(t):null}function kc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kc(t);if(e!==null)return e;t=t.sibling}return null}var Sc=Oe.unstable_scheduleCallback,ja=Oe.unstable_cancelCallback,yf=Oe.unstable_shouldYield,vf=Oe.unstable_requestPaint,X=Oe.unstable_now,wf=Oe.unstable_getCurrentPriorityLevel,kl=Oe.unstable_ImmediatePriority,jc=Oe.unstable_UserBlockingPriority,Rs=Oe.unstable_NormalPriority,xf=Oe.unstable_LowPriority,Ec=Oe.unstable_IdlePriority,ni=null,et=null;function _f(t){if(et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:jf,kf=Math.log,Sf=Math.LN2;function jf(t){return t>>>=0,t===0?32:31-(kf(t)/Sf|0)|0}var Zr=64,es=4194304;function ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function As(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ir(l):(i&=o,i!==0&&(r=ir(i)))}else o=n&~s,o!==0?r=ir(o):i!==0&&(r=ir(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ke(e),s=1<<n,r|=t[n],e&=~s;return r}function Ef(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ke(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Ef(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bc(){var t=Zr;return Zr<<=1,!(Zr&4194240)&&(Zr=64),t}function Pi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ke(e),t[e]=n}function Nf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ke(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ke(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var M=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cc,jl,Tc,Pc,Oc,So=!1,ts=[],jt=null,Et=null,bt=null,Sr=new Map,jr=new Map,wt=[],Cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":Sr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(e.pointerId)}}function Jn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fr(e),e!==null&&jl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tf(t,e,n,r,s){switch(e){case"focusin":return jt=Jn(jt,t,e,n,r,s),!0;case"dragenter":return Et=Jn(Et,t,e,n,r,s),!0;case"mouseover":return bt=Jn(bt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Sr.set(i,Jn(Sr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jr.set(i,Jn(jr.get(i)||null,t,e,n,r,s)),!0}return!1}function Rc(t){var e=Gt(t.target);if(e!==null){var n=on(e);if(n!==null){if(e=n.tag,e===13){if(e=xc(n),e!==null){t.blockedOn=e,Oc(t.priority,function(){Tc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vo=r,n.target.dispatchEvent(r),vo=null}else return e=Fr(n),e!==null&&jl(e),t.blockedOn=n,!1;e.shift()}return!0}function ba(t,e,n){ws(t)&&n.delete(e)}function Pf(){So=!1,jt!==null&&ws(jt)&&(jt=null),Et!==null&&ws(Et)&&(Et=null),bt!==null&&ws(bt)&&(bt=null),Sr.forEach(ba),jr.forEach(ba)}function Yn(t,e){t.blockedOn===e&&(t.blockedOn=null,So||(So=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Pf)))}function Er(t){function e(s){return Yn(s,t)}if(0<ts.length){Yn(ts[0],t);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&Yn(jt,t),Et!==null&&Yn(Et,t),bt!==null&&Yn(bt,t),Sr.forEach(e),jr.forEach(e),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)Rc(n),n.blockedOn===null&&wt.shift()}var Rn=ft.ReactCurrentBatchConfig,$s=!0;function Of(t,e,n,r){var s=M,i=Rn.transition;Rn.transition=null;try{M=1,El(t,e,n,r)}finally{M=s,Rn.transition=i}}function Rf(t,e,n,r){var s=M,i=Rn.transition;Rn.transition=null;try{M=4,El(t,e,n,r)}finally{M=s,Rn.transition=i}}function El(t,e,n,r){if($s){var s=jo(t,e,n,r);if(s===null)zi(t,e,r,Ls,n),Ea(t,r);else if(Tf(s,t,e,n,r))r.stopPropagation();else if(Ea(t,r),e&4&&-1<Cf.indexOf(t)){for(;s!==null;){var i=Fr(s);if(i!==null&&Cc(i),i=jo(t,e,n,r),i===null&&zi(t,e,r,Ls,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zi(t,e,r,null,n)}}var Ls=null;function jo(t,e,n,r){if(Ls=null,t=_l(r),t=Gt(t),t!==null)if(e=on(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function Ac(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case kl:return 1;case jc:return 4;case Rs:case xf:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var kt=null,bl=null,xs=null;function $c(){if(xs)return xs;var t,e=bl,n=e.length,r,s="value"in kt?kt.value:kt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return xs=s.slice(t,1<r?1-r:void 0)}function _s(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function Na(){return!1}function Ae(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ns:Na,this.isPropagationStopped=Na,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),e}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Ae(Wn),zr=Q({},Wn,{view:0,detail:0}),Af=Ae(zr),Oi,Ri,Xn,ri=Q({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(Oi=t.screenX-Xn.screenX,Ri=t.screenY-Xn.screenY):Ri=Oi=0,Xn=t),Oi)},movementY:function(t){return"movementY"in t?t.movementY:Ri}}),Ca=Ae(ri),$f=Q({},ri,{dataTransfer:0}),Lf=Ae($f),If=Q({},zr,{relatedTarget:0}),Ai=Ae(If),Df=Q({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=Ae(Df),Mf=Q({},Wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zf=Ae(Mf),Ff=Q({},Wn,{data:0}),Ta=Ae(Ff),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wf[t])?!!e[t]:!1}function Cl(){return qf}var Vf=Q({},zr,{key:function(t){if(t.key){var e=Bf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kf=Ae(Vf),Gf=Q({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Ae(Gf),Qf=Q({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Jf=Ae(Qf),Yf=Q({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=Ae(Yf),Zf=Q({},ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ep=Ae(Zf),tp=[9,13,27,32],Tl=ut&&"CompositionEvent"in window,cr=null;ut&&"documentMode"in document&&(cr=document.documentMode);var np=ut&&"TextEvent"in window&&!cr,Lc=ut&&(!Tl||cr&&8<cr&&11>=cr),Oa=" ",Ra=!1;function Ic(t,e){switch(t){case"keyup":return tp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wn=!1;function rp(t,e){switch(t){case"compositionend":return Dc(e);case"keypress":return e.which!==32?null:(Ra=!0,Oa);case"textInput":return t=e.data,t===Oa&&Ra?null:t;default:return null}}function sp(t,e){if(wn)return t==="compositionend"||!Tl&&Ic(t,e)?(t=$c(),xs=bl=kt=null,wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lc&&e.locale!=="ko"?null:e.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ip[t.type]:e==="textarea"}function Uc(t,e,n,r){mc(r),e=Is(e,"onChange"),0<e.length&&(n=new Nl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dr=null,br=null;function op(t){Qc(t,0)}function si(t){var e=kn(t);if(ac(e))return t}function lp(t,e){if(t==="change")return e}var Mc=!1;if(ut){var $i;if(ut){var Li="oninput"in document;if(!Li){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Li=typeof $a.oninput=="function"}$i=Li}else $i=!1;Mc=$i&&(!document.documentMode||9<document.documentMode)}function La(){dr&&(dr.detachEvent("onpropertychange",zc),br=dr=null)}function zc(t){if(t.propertyName==="value"&&si(br)){var e=[];Uc(e,br,t,_l(t)),wc(op,e)}}function ap(t,e,n){t==="focusin"?(La(),dr=e,br=n,dr.attachEvent("onpropertychange",zc)):t==="focusout"&&La()}function up(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return si(br)}function cp(t,e){if(t==="click")return si(e)}function dp(t,e){if(t==="input"||t==="change")return si(e)}function hp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qe=typeof Object.is=="function"?Object.is:hp;function Nr(t,e){if(Qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!io.call(e,s)||!Qe(t[s],e[s]))return!1}return!0}function Ia(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Da(t,e){var n=Ia(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ia(n)}}function Fc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bc(){for(var t=window,e=Ts();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ts(t.document)}return e}function Pl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fp(t){var e=Bc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fc(n.ownerDocument.documentElement,n)){if(r!==null&&Pl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Da(n,i);var o=Da(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pp=ut&&"documentMode"in document&&11>=document.documentMode,xn=null,Eo=null,hr=null,bo=!1;function Ua(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||xn==null||xn!==Ts(r)||(r=xn,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hr&&Nr(hr,r)||(hr=r,r=Is(Eo,"onSelect"),0<r.length&&(e=new Nl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xn)))}function rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _n={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},Ii={},Hc={};ut&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function ii(t){if(Ii[t])return Ii[t];if(!_n[t])return t;var e=_n[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hc)return Ii[t]=e[n];return t}var Wc=ii("animationend"),qc=ii("animationiteration"),Vc=ii("animationstart"),Kc=ii("transitionend"),Gc=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(t,e){Gc.set(t,e),sn(e,[t])}for(var Di=0;Di<Ma.length;Di++){var Ui=Ma[Di],mp=Ui.toLowerCase(),gp=Ui[0].toUpperCase()+Ui.slice(1);$t(mp,"on"+gp)}$t(Wc,"onAnimationEnd");$t(qc,"onAnimationIteration");$t(Vc,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(Kc,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function za(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mf(r,e,void 0,t),t.currentTarget=null}function Qc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;za(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;za(s,l,c),i=a}}}if(Os)throw t=_o,Os=!1,_o=null,t}function H(t,e){var n=e[Oo];n===void 0&&(n=e[Oo]=new Set);var r=t+"__bubble";n.has(r)||(Jc(e,t,2,!1),n.add(r))}function Mi(t,e,n){var r=0;e&&(r|=4),Jc(n,t,r,e)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Cr(t){if(!t[ss]){t[ss]=!0,rc.forEach(function(n){n!=="selectionchange"&&(yp.has(n)||Mi(n,!1,t),Mi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ss]||(e[ss]=!0,Mi("selectionchange",!1,e))}}function Jc(t,e,n,r){switch(Ac(e)){case 1:var s=Of;break;case 4:s=Rf;break;default:s=El}n=s.bind(null,e,n,t),s=void 0,!xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Gt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}wc(function(){var c=i,d=_l(n),h=[];e:{var f=Gc.get(t);if(f!==void 0){var y=Nl,v=t;switch(t){case"keypress":if(_s(n)===0)break e;case"keydown":case"keyup":y=Kf;break;case"focusin":v="focus",y=Ai;break;case"focusout":v="blur",y=Ai;break;case"beforeblur":case"afterblur":y=Ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Jf;break;case Wc:case qc:case Vc:y=Uf;break;case Kc:y=Xf;break;case"scroll":y=Af;break;case"wheel":y=ep;break;case"copy":case"cut":case"paste":y=zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pa}var _=(e&4)!==0,j=!_&&t==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var m=c,g;m!==null;){g=m;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=kr(m,p),w!=null&&_.push(Tr(m,w,g)))),j)break;m=m.return}0<_.length&&(f=new y(f,v,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==vo&&(v=n.relatedTarget||n.fromElement)&&(Gt(v)||v[ct]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?Gt(v):null,v!==null&&(j=on(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(_=Ca,w="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Pa,w="onPointerLeave",p="onPointerEnter",m="pointer"),j=y==null?f:kn(y),g=v==null?f:kn(v),f=new _(w,m+"leave",y,n,d),f.target=j,f.relatedTarget=g,w=null,Gt(d)===c&&(_=new _(p,m+"enter",v,n,d),_.target=g,_.relatedTarget=j,w=_),j=w,y&&v)t:{for(_=y,p=v,m=0,g=_;g;g=un(g))m++;for(g=0,w=p;w;w=un(w))g++;for(;0<m-g;)_=un(_),m--;for(;0<g-m;)p=un(p),g--;for(;m--;){if(_===p||p!==null&&_===p.alternate)break t;_=un(_),p=un(p)}_=null}else _=null;y!==null&&Fa(h,f,y,_,!1),v!==null&&j!==null&&Fa(h,j,v,_,!0)}}e:{if(f=c?kn(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var x=lp;else if(Aa(f))if(Mc)x=dp;else{x=up;var k=ap}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=cp);if(x&&(x=x(t,c))){Uc(h,x,n,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&fo(f,"number",f.value)}switch(k=c?kn(c):window,t){case"focusin":(Aa(k)||k.contentEditable==="true")&&(xn=k,Eo=c,hr=null);break;case"focusout":hr=Eo=xn=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Ua(h,n,d);break;case"selectionchange":if(pp)break;case"keydown":case"keyup":Ua(h,n,d)}var b;if(Tl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wn?Ic(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Lc&&n.locale!=="ko"&&(wn||C!=="onCompositionStart"?C==="onCompositionEnd"&&wn&&(b=$c()):(kt=d,bl="value"in kt?kt.value:kt.textContent,wn=!0)),k=Is(c,C),0<k.length&&(C=new Ta(C,t,null,n,d),h.push({event:C,listeners:k}),b?C.data=b:(b=Dc(n),b!==null&&(C.data=b)))),(b=np?rp(t,n):sp(t,n))&&(c=Is(c,"onBeforeInput"),0<c.length&&(d=new Ta("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}Qc(h,e)})}function Tr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Is(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kr(t,n),i!=null&&r.unshift(Tr(t,i,s)),i=kr(t,e),i!=null&&r.push(Tr(t,i,s))),t=t.return}return r}function un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fa(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=kr(n,i),a!=null&&o.unshift(Tr(n,a,l))):s||(a=kr(n,i),a!=null&&o.push(Tr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vp=/\r\n?/g,wp=/\u0000|\uFFFD/g;function Ba(t){return(typeof t=="string"?t:""+t).replace(vp,`
`).replace(wp,"")}function is(t,e,n){if(e=Ba(e),Ba(t)!==e&&n)throw Error(S(425))}function Ds(){}var No=null,Co=null;function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,Ha=typeof Promise=="function"?Promise:void 0,_p=typeof queueMicrotask=="function"?queueMicrotask:typeof Ha<"u"?function(t){return Ha.resolve(null).then(t).catch(kp)}:Po;function kp(t){setTimeout(function(){throw t})}function Fi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Er(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Er(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+qn,Pr="__reactProps$"+qn,ct="__reactContainer$"+qn,Oo="__reactEvents$"+qn,Sp="__reactListeners$"+qn,jp="__reactHandles$"+qn;function Gt(t){var e=t[Ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ct]||n[Ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wa(t);t!==null;){if(n=t[Ze])return n;t=Wa(t)}return e}t=n,n=t.parentNode}return null}function Fr(t){return t=t[Ze]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function oi(t){return t[Pr]||null}var Ro=[],Sn=-1;function Lt(t){return{current:t}}function W(t){0>Sn||(t.current=Ro[Sn],Ro[Sn]=null,Sn--)}function B(t,e){Sn++,Ro[Sn]=t.current,t.current=e}var At={},ge=Lt(At),Ee=Lt(!1),Zt=At;function In(t,e){var n=t.type.contextTypes;if(!n)return At;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function be(t){return t=t.childContextTypes,t!=null}function Us(){W(Ee),W(ge)}function qa(t,e,n){if(ge.current!==At)throw Error(S(168));B(ge,e),B(Ee,n)}function Yc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,af(t)||"Unknown",s));return Q({},n,r)}function Ms(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Zt=ge.current,B(ge,t),B(Ee,Ee.current),!0}function Va(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Yc(t,e,Zt),r.__reactInternalMemoizedMergedChildContext=t,W(Ee),W(ge),B(ge,t)):W(Ee),B(Ee,n)}var it=null,li=!1,Bi=!1;function Xc(t){it===null?it=[t]:it.push(t)}function Ep(t){li=!0,Xc(t)}function It(){if(!Bi&&it!==null){Bi=!0;var t=0,e=M;try{var n=it;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}it=null,li=!1}catch(s){throw it!==null&&(it=it.slice(t+1)),Sc(kl,It),s}finally{M=e,Bi=!1}}return null}var jn=[],En=0,zs=null,Fs=0,$e=[],Le=0,en=null,ot=1,lt="";function Wt(t,e){jn[En++]=Fs,jn[En++]=zs,zs=t,Fs=e}function Zc(t,e,n){$e[Le++]=ot,$e[Le++]=lt,$e[Le++]=en,en=t;var r=ot;t=lt;var s=32-Ke(r)-1;r&=~(1<<s),n+=1;var i=32-Ke(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ot=1<<32-Ke(e)+s|n<<s|r,lt=i+t}else ot=1<<i|n<<s|r,lt=t}function Ol(t){t.return!==null&&(Wt(t,1),Zc(t,1,0))}function Rl(t){for(;t===zs;)zs=jn[--En],jn[En]=null,Fs=jn[--En],jn[En]=null;for(;t===en;)en=$e[--Le],$e[Le]=null,lt=$e[--Le],$e[Le]=null,ot=$e[--Le],$e[Le]=null}var Pe=null,Te=null,q=!1,Ve=null;function ed(t,e){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ka(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Te=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=en!==null?{id:ot,overflow:lt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pe=t,Te=null,!0):!1;default:return!1}}function Ao(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $o(t){if(q){var e=Te;if(e){var n=e;if(!Ka(t,e)){if(Ao(t))throw Error(S(418));e=Nt(n.nextSibling);var r=Pe;e&&Ka(t,e)?ed(r,n):(t.flags=t.flags&-4097|2,q=!1,Pe=t)}}else{if(Ao(t))throw Error(S(418));t.flags=t.flags&-4097|2,q=!1,Pe=t}}}function Ga(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function os(t){if(t!==Pe)return!1;if(!q)return Ga(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!To(t.type,t.memoizedProps)),e&&(e=Te)){if(Ao(t))throw td(),Error(S(418));for(;e;)ed(t,e),e=Nt(e.nextSibling)}if(Ga(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Te=Nt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Pe?Nt(t.stateNode.nextSibling):null;return!0}function td(){for(var t=Te;t;)t=Nt(t.nextSibling)}function Dn(){Te=Pe=null,q=!1}function Al(t){Ve===null?Ve=[t]:Ve.push(t)}var bp=ft.ReactCurrentBatchConfig;function Zn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function ls(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qa(t){var e=t._init;return e(t._payload)}function nd(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Ot(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,w){return m===null||m.tag!==6?(m=Qi(g,p.mode,w),m.return=p,m):(m=s(m,g),m.return=p,m)}function a(p,m,g,w){var x=g.type;return x===vn?d(p,m,g.props.children,w,g.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yt&&Qa(x)===m.type)?(w=s(m,g.props),w.ref=Zn(p,m,g),w.return=p,w):(w=Cs(g.type,g.key,g.props,null,p.mode,w),w.ref=Zn(p,m,g),w.return=p,w)}function c(p,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ji(g,p.mode,w),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,w,x){return m===null||m.tag!==7?(m=Xt(g,p.mode,w,x),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Qi(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Jr:return g=Cs(m.type,m.key,m.props,null,p.mode,g),g.ref=Zn(p,null,m),g.return=p,g;case yn:return m=Ji(m,p.mode,g),m.return=p,m;case yt:var w=m._init;return h(p,w(m._payload),g)}if(sr(m)||Gn(m))return m=Xt(m,p.mode,g,null),m.return=p,m;ls(p,m)}return null}function f(p,m,g,w){var x=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(p,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jr:return g.key===x?a(p,m,g,w):null;case yn:return g.key===x?c(p,m,g,w):null;case yt:return x=g._init,f(p,m,x(g._payload),w)}if(sr(g)||Gn(g))return x!==null?null:d(p,m,g,w,null);ls(p,g)}return null}function y(p,m,g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,l(m,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jr:return p=p.get(w.key===null?g:w.key)||null,a(m,p,w,x);case yn:return p=p.get(w.key===null?g:w.key)||null,c(m,p,w,x);case yt:var k=w._init;return y(p,m,g,k(w._payload),x)}if(sr(w)||Gn(w))return p=p.get(g)||null,d(m,p,w,x,null);ls(m,w)}return null}function v(p,m,g,w){for(var x=null,k=null,b=m,C=m=0,V=null;b!==null&&C<g.length;C++){b.index>C?(V=b,b=null):V=b.sibling;var E=f(p,b,g[C],w);if(E===null){b===null&&(b=V);break}t&&b&&E.alternate===null&&e(p,b),m=i(E,m,C),k===null?x=E:k.sibling=E,k=E,b=V}if(C===g.length)return n(p,b),q&&Wt(p,C),x;if(b===null){for(;C<g.length;C++)b=h(p,g[C],w),b!==null&&(m=i(b,m,C),k===null?x=b:k.sibling=b,k=b);return q&&Wt(p,C),x}for(b=r(p,b);C<g.length;C++)V=y(b,p,C,g[C],w),V!==null&&(t&&V.alternate!==null&&b.delete(V.key===null?C:V.key),m=i(V,m,C),k===null?x=V:k.sibling=V,k=V);return t&&b.forEach(function(ee){return e(p,ee)}),q&&Wt(p,C),x}function _(p,m,g,w){var x=Gn(g);if(typeof x!="function")throw Error(S(150));if(g=x.call(g),g==null)throw Error(S(151));for(var k=x=null,b=m,C=m=0,V=null,E=g.next();b!==null&&!E.done;C++,E=g.next()){b.index>C?(V=b,b=null):V=b.sibling;var ee=f(p,b,E.value,w);if(ee===null){b===null&&(b=V);break}t&&b&&ee.alternate===null&&e(p,b),m=i(ee,m,C),k===null?x=ee:k.sibling=ee,k=ee,b=V}if(E.done)return n(p,b),q&&Wt(p,C),x;if(b===null){for(;!E.done;C++,E=g.next())E=h(p,E.value,w),E!==null&&(m=i(E,m,C),k===null?x=E:k.sibling=E,k=E);return q&&Wt(p,C),x}for(b=r(p,b);!E.done;C++,E=g.next())E=y(b,p,C,E.value,w),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?C:E.key),m=i(E,m,C),k===null?x=E:k.sibling=E,k=E);return t&&b.forEach(function(Ut){return e(p,Ut)}),q&&Wt(p,C),x}function j(p,m,g,w){if(typeof g=="object"&&g!==null&&g.type===vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Jr:e:{for(var x=g.key,k=m;k!==null;){if(k.key===x){if(x=g.type,x===vn){if(k.tag===7){n(p,k.sibling),m=s(k,g.props.children),m.return=p,p=m;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yt&&Qa(x)===k.type){n(p,k.sibling),m=s(k,g.props),m.ref=Zn(p,k,g),m.return=p,p=m;break e}n(p,k);break}else e(p,k);k=k.sibling}g.type===vn?(m=Xt(g.props.children,p.mode,w,g.key),m.return=p,p=m):(w=Cs(g.type,g.key,g.props,null,p.mode,w),w.ref=Zn(p,m,g),w.return=p,p=w)}return o(p);case yn:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Ji(g,p.mode,w),m.return=p,p=m}return o(p);case yt:return k=g._init,j(p,m,k(g._payload),w)}if(sr(g))return v(p,m,g,w);if(Gn(g))return _(p,m,g,w);ls(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,g),m.return=p,p=m):(n(p,m),m=Qi(g,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return j}var Un=nd(!0),rd=nd(!1),Bs=Lt(null),Hs=null,bn=null,$l=null;function Ll(){$l=bn=Hs=null}function Il(t){var e=Bs.current;W(Bs),t._currentValue=e}function Lo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function An(t,e){Hs=t,$l=bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if($l!==t)if(t={context:t,memoizedValue:e,next:null},bn===null){if(Hs===null)throw Error(S(308));bn=t,Hs.dependencies={lanes:0,firstContext:t}}else bn=bn.next=t;return e}var Qt=null;function Dl(t){Qt===null?Qt=[t]:Qt.push(t)}function sd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Dl(e)):(n.next=s.next,s.next=n),e.interleaved=n,dt(t,r)}function dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vt=!1;function Ul(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function at(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ct(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dt(t,n)}return s=r.interleaved,s===null?(e.next=e,Dl(r)):(e.next=s.next,s.next=e),r.interleaved=e,dt(t,n)}function ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sl(t,n)}}function Ja(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ws(t,e,n,r){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,_=l;switch(f=e,y=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=Q({},h,f);break e;case 2:vt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,a=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);nn|=o,t.lanes=o,t.memoizedState=h}}function Ya(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Br={},tt=Lt(Br),Or=Lt(Br),Rr=Lt(Br);function Jt(t){if(t===Br)throw Error(S(174));return t}function Ml(t,e){switch(B(Rr,e),B(Or,t),B(tt,Br),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mo(e,t)}W(tt),B(tt,e)}function Mn(){W(tt),W(Or),W(Rr)}function od(t){Jt(Rr.current);var e=Jt(tt.current),n=mo(e,t.type);e!==n&&(B(Or,t),B(tt,n))}function zl(t){Or.current===t&&(W(tt),W(Or))}var K=Lt(0);function qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hi=[];function Fl(){for(var t=0;t<Hi.length;t++)Hi[t]._workInProgressVersionPrimary=null;Hi.length=0}var Ss=ft.ReactCurrentDispatcher,Wi=ft.ReactCurrentBatchConfig,tn=0,G=null,re=null,oe=null,Vs=!1,fr=!1,Ar=0,Np=0;function he(){throw Error(S(321))}function Bl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qe(t[n],e[n]))return!1;return!0}function Hl(t,e,n,r,s,i){if(tn=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ss.current=t===null||t.memoizedState===null?Op:Rp,t=n(r,s),fr){i=0;do{if(fr=!1,Ar=0,25<=i)throw Error(S(301));i+=1,oe=re=null,e.updateQueue=null,Ss.current=Ap,t=n(r,s)}while(fr)}if(Ss.current=Ks,e=re!==null&&re.next!==null,tn=0,oe=re=G=null,Vs=!1,e)throw Error(S(300));return t}function Wl(){var t=Ar!==0;return Ar=0,t}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?G.memoizedState=oe=t:oe=oe.next=t,oe}function ze(){if(re===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=oe===null?G.memoizedState:oe.next;if(e!==null)oe=e,re=t;else{if(t===null)throw Error(S(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},oe===null?G.memoizedState=oe=t:oe=oe.next=t}return oe}function $r(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=ze(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((tn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,G.lanes|=d,nn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Qe(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,nn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vi(t){var e=ze(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qe(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ld(){}function ad(t,e){var n=G,r=ze(),s=e(),i=!Qe(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,ql(dd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,Lr(9,cd.bind(null,n,r,s,e),void 0,null),le===null)throw Error(S(349));tn&30||ud(n,e,s)}return s}function ud(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cd(t,e,n,r){e.value=n,e.getSnapshot=r,hd(e)&&fd(t)}function dd(t,e,n){return n(function(){hd(e)&&fd(t)})}function hd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qe(t,n)}catch{return!0}}function fd(t){var e=dt(t,1);e!==null&&Ge(e,t,1,-1)}function Xa(t){var e=Ye();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:t},e.queue=t,t=t.dispatch=Pp.bind(null,G,t),[e.memoizedState,t]}function Lr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pd(){return ze().memoizedState}function js(t,e,n,r){var s=Ye();G.flags|=t,s.memoizedState=Lr(1|e,n,void 0,r===void 0?null:r)}function ai(t,e,n,r){var s=ze();r=r===void 0?null:r;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,r!==null&&Bl(r,o.deps)){s.memoizedState=Lr(e,n,i,r);return}}G.flags|=t,s.memoizedState=Lr(1|e,n,i,r)}function Za(t,e){return js(8390656,8,t,e)}function ql(t,e){return ai(2048,8,t,e)}function md(t,e){return ai(4,2,t,e)}function gd(t,e){return ai(4,4,t,e)}function yd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vd(t,e,n){return n=n!=null?n.concat([t]):null,ai(4,4,yd.bind(null,e,t),n)}function Vl(){}function wd(t,e){var n=ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xd(t,e){var n=ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _d(t,e,n){return tn&21?(Qe(n,e)||(n=bc(),G.lanes|=n,nn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=n)}function Cp(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Wi.transition;Wi.transition={};try{t(!1),e()}finally{M=n,Wi.transition=r}}function kd(){return ze().memoizedState}function Tp(t,e,n){var r=Pt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sd(t))jd(e,n);else if(n=sd(t,e,n,r),n!==null){var s=we();Ge(n,t,r,s),Ed(n,e,r)}}function Pp(t,e,n){var r=Pt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sd(t))jd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Qe(l,o)){var a=e.interleaved;a===null?(s.next=s,Dl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=sd(t,e,s,r),n!==null&&(s=we(),Ge(n,t,r,s),Ed(n,e,r))}}function Sd(t){var e=t.alternate;return t===G||e!==null&&e===G}function jd(t,e){fr=Vs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ed(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sl(t,n)}}var Ks={readContext:Me,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Op={readContext:Me,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:Za,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,js(4194308,4,yd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return js(4194308,4,t,e)},useInsertionEffect:function(t,e){return js(4,2,t,e)},useMemo:function(t,e){var n=Ye();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ye();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tp.bind(null,G,t),[r.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:Xa,useDebugValue:Vl,useDeferredValue:function(t){return Ye().memoizedState=t},useTransition:function(){var t=Xa(!1),e=t[0];return t=Cp.bind(null,t[1]),Ye().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=G,s=Ye();if(q){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),le===null)throw Error(S(349));tn&30||ud(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Za(dd.bind(null,r,i,t),[t]),r.flags|=2048,Lr(9,cd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ye(),e=le.identifierPrefix;if(q){var n=lt,r=ot;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ar++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Np++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rp={readContext:Me,useCallback:wd,useContext:Me,useEffect:ql,useImperativeHandle:vd,useInsertionEffect:md,useLayoutEffect:gd,useMemo:xd,useReducer:qi,useRef:pd,useState:function(){return qi($r)},useDebugValue:Vl,useDeferredValue:function(t){var e=ze();return _d(e,re.memoizedState,t)},useTransition:function(){var t=qi($r)[0],e=ze().memoizedState;return[t,e]},useMutableSource:ld,useSyncExternalStore:ad,useId:kd,unstable_isNewReconciler:!1},Ap={readContext:Me,useCallback:wd,useContext:Me,useEffect:ql,useImperativeHandle:vd,useInsertionEffect:md,useLayoutEffect:gd,useMemo:xd,useReducer:Vi,useRef:pd,useState:function(){return Vi($r)},useDebugValue:Vl,useDeferredValue:function(t){var e=ze();return re===null?e.memoizedState=t:_d(e,re.memoizedState,t)},useTransition:function(){var t=Vi($r)[0],e=ze().memoizedState;return[t,e]},useMutableSource:ld,useSyncExternalStore:ad,useId:kd,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Io(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ui={isMounted:function(t){return(t=t._reactInternals)?on(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=we(),s=Pt(t),i=at(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(Ge(e,t,s,r),ks(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=we(),s=Pt(t),i=at(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(Ge(e,t,s,r),ks(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=we(),r=Pt(t),s=at(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ct(t,s,r),e!==null&&(Ge(e,t,r,n),ks(e,t,r))}};function eu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Nr(n,r)||!Nr(s,i):!0}function bd(t,e,n){var r=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=be(e)?Zt:ge.current,r=e.contextTypes,i=(r=r!=null)?In(t,s):At),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ui,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ui.enqueueReplaceState(e,e.state,null)}function Do(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ul(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=be(e)?Zt:ge.current,s.context=In(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Io(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ui.enqueueReplaceState(s,s.state,null),Ws(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zn(t,e){try{var n="",r=e;do n+=lf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ki(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $p=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,e,n){n=at(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qs||(Qs=!0,Go=r),Uo(t,e)},n}function Cd(t,e,n){n=at(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Uo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uo(t,e),typeof r!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $p;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Gp.bind(null,t,e,n),e.then(t,t))}function ru(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function su(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=at(-1,1),e.tag=2,Ct(n,e,1))),n.lanes|=1),t)}var Lp=ft.ReactCurrentOwner,je=!1;function ve(t,e,n,r){e.child=t===null?rd(e,null,n,r):Un(e,t.child,n,r)}function iu(t,e,n,r,s){n=n.render;var i=e.ref;return An(e,s),r=Hl(t,e,n,r,i,s),n=Wl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(q&&n&&Ol(e),e.flags|=1,ve(t,e,r,s),e.child)}function ou(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ea(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Td(t,e,i,r,s)):(t=Cs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nr,n(o,r)&&t.ref===e.ref)return ht(t,e,s)}return e.flags|=1,t=Ot(i,r),t.ref=e.ref,t.return=e,e.child=t}function Td(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Nr(i,r)&&t.ref===e.ref)if(je=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,ht(t,e,s)}return Mo(t,e,n,r,s)}function Pd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Cn,Ce),Ce|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(Cn,Ce),Ce|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(Cn,Ce),Ce|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,B(Cn,Ce),Ce|=r;return ve(t,e,s,n),e.child}function Od(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mo(t,e,n,r,s){var i=be(n)?Zt:ge.current;return i=In(e,i),An(e,s),n=Hl(t,e,n,r,i,s),r=Wl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(q&&r&&Ol(e),e.flags|=1,ve(t,e,n,s),e.child)}function lu(t,e,n,r,s){if(be(n)){var i=!0;Ms(e)}else i=!1;if(An(e,s),e.stateNode===null)Es(t,e),bd(e,n,r),Do(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=be(n)?Zt:ge.current,c=In(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&tu(e,o,r,c),vt=!1;var f=e.memoizedState;o.state=f,Ws(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Ee.current||vt?(typeof d=="function"&&(Io(e,n,d,r),a=e.memoizedState),(l=vt||eu(e,n,l,r,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,id(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:He(e.type,l),o.props=c,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Me(a):(a=be(n)?Zt:ge.current,a=In(e,a));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&tu(e,o,r,a),vt=!1,f=e.memoizedState,o.state=f,Ws(e,r,o,s);var v=e.memoizedState;l!==h||f!==v||Ee.current||vt?(typeof y=="function"&&(Io(e,n,y,r),v=e.memoizedState),(c=vt||eu(e,n,c,r,f,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zo(t,e,n,r,i,s)}function zo(t,e,n,r,s,i){Od(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Va(e,n,!1),ht(t,e,i);r=e.stateNode,Lp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Un(e,t.child,null,i),e.child=Un(e,null,l,i)):ve(t,e,l,i),e.memoizedState=r.state,s&&Va(e,n,!0),e.child}function Rd(t){var e=t.stateNode;e.pendingContext?qa(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qa(t,e.context,!1),Ml(t,e.containerInfo)}function au(t,e,n,r,s){return Dn(),Al(s),e.flags|=256,ve(t,e,n,r),e.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Bo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,e,n){var r=e.pendingProps,s=K.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(K,s&1),t===null)return $o(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hi(o,r,0,null),t=Xt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bo(n),e.memoizedState=Fo,t):Kl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ip(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ot(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ot(l,i):(i=Xt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fo,r}return i=t.child,t=i.sibling,r=Ot(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kl(t,e){return e=hi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function as(t,e,n,r){return r!==null&&Al(r),Un(e,t.child,null,n),t=Kl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ip(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ki(Error(S(422))),as(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=hi({mode:"visible",children:r.children},s,0,null),i=Xt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Un(e,t.child,null,o),e.child.memoizedState=Bo(o),e.memoizedState=Fo,i);if(!(e.mode&1))return as(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=Ki(i,r,void 0),as(t,e,o,r)}if(l=(o&t.childLanes)!==0,je||l){if(r=le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dt(t,s),Ge(r,t,s,-1))}return Zl(),r=Ki(Error(S(421))),as(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Qp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=Nt(s.nextSibling),Pe=e,q=!0,Ve=null,t!==null&&($e[Le++]=ot,$e[Le++]=lt,$e[Le++]=en,ot=t.id,lt=t.overflow,en=e),e=Kl(e,r.children),e.flags|=4096,e)}function uu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lo(t.return,e,n)}function Gi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $d(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ve(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uu(t,n,e);else if(t.tag===19)uu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(B(K,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gi(e,!0,n,null,i);break;case"together":Gi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Es(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Ot(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ot(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dp(t,e,n){switch(e.tag){case 3:Rd(e),Dn();break;case 5:od(e);break;case 1:be(e.type)&&Ms(e);break;case 4:Ml(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;B(Bs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(B(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Ad(t,e,n):(B(K,K.current&1),t=ht(t,e,n),t!==null?t.sibling:null);B(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $d(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,Pd(t,e,n)}return ht(t,e,n)}var Ld,Ho,Id,Dd;Ld=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ho=function(){};Id=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jt(tt.current);var i=null;switch(n){case"input":s=co(t,s),r=co(t,r),i=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),i=[];break;case"textarea":s=po(t,s),r=po(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ds)}go(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&H("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Dd=function(t,e,n,r){n!==r&&(e.flags|=4)};function er(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Up(t,e,n){var r=e.pendingProps;switch(Rl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return be(e.type)&&Us(),fe(e),null;case 3:return r=e.stateNode,Mn(),W(Ee),W(ge),Fl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ve!==null&&(Yo(Ve),Ve=null))),Ho(t,e),fe(e),null;case 5:zl(e);var s=Jt(Rr.current);if(n=e.type,t!==null&&e.stateNode!=null)Id(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return fe(e),null}if(t=Jt(tt.current),os(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ze]=e,r[Pr]=i,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(s=0;s<or.length;s++)H(or[s],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":va(r,i),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},H("invalid",r);break;case"textarea":xa(r,i),H("invalid",r)}go(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&is(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&is(r.textContent,l,t),s=["children",""+l]):xr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":Yr(r),wa(r,i,!0);break;case"textarea":Yr(r),_a(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ds)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ze]=e,t[Pr]=r,Ld(t,e,!1,!1),e.stateNode=t;e:{switch(o=yo(n,r),n){case"dialog":H("cancel",t),H("close",t),s=r;break;case"iframe":case"object":case"embed":H("load",t),s=r;break;case"video":case"audio":for(s=0;s<or.length;s++)H(or[s],t);s=r;break;case"source":H("error",t),s=r;break;case"img":case"image":case"link":H("error",t),H("load",t),s=r;break;case"details":H("toggle",t),s=r;break;case"input":va(t,r),s=co(t,r),H("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),H("invalid",t);break;case"textarea":xa(t,r),s=po(t,r),H("invalid",t);break;default:s=r}go(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?pc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&_r(t,a):typeof a=="number"&&_r(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&H("scroll",t):a!=null&&yl(t,i,a,o))}switch(n){case"input":Yr(t),wa(t,r,!1);break;case"textarea":Yr(t),_a(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Tn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Tn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)Dd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Jt(Rr.current),Jt(tt.current),os(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ze]=e,(i=r.nodeValue!==n)&&(t=Pe,t!==null))switch(t.tag){case 3:is(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&is(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=e,e.stateNode=r}return fe(e),null;case 13:if(W(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Te!==null&&e.mode&1&&!(e.flags&128))td(),Dn(),e.flags|=98560,i=!1;else if(i=os(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Ze]=e}else Dn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Ve!==null&&(Yo(Ve),Ve=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?se===0&&(se=3):Zl())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Mn(),Ho(t,e),t===null&&Cr(e.stateNode.containerInfo),fe(e),null;case 10:return Il(e.type._context),fe(e),null;case 17:return be(e.type)&&Us(),fe(e),null;case 19:if(W(K),i=e.memoizedState,i===null)return fe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)er(i,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qs(t),o!==null){for(e.flags|=128,er(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return B(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Fn&&(e.flags|=128,r=!0,er(i,!1),e.lanes=4194304)}else{if(!r)if(t=qs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return fe(e),null}else 2*X()-i.renderingStartTime>Fn&&n!==1073741824&&(e.flags|=128,r=!0,er(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,n=K.current,B(K,r?n&1|2:n&1),e):(fe(e),null);case 22:case 23:return Xl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ce&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Mp(t,e){switch(Rl(e),e.tag){case 1:return be(e.type)&&Us(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mn(),W(Ee),W(ge),Fl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zl(e),null;case 13:if(W(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Dn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(K),null;case 4:return Mn(),null;case 10:return Il(e.type._context),null;case 22:case 23:return Xl(),null;case 24:return null;default:return null}}var us=!1,pe=!1,zp=typeof WeakSet=="function"?WeakSet:Set,N=null;function Nn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function Wo(t,e,n){try{n()}catch(r){J(t,e,r)}}var cu=!1;function Fp(t,e){if(No=$s,t=Bc(),Pl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++d===r&&(a=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Co={focusedElem:t,selectionRange:n},$s=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,j=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:He(e.type,_),j);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){J(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return v=cu,cu=!1,v}function pr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wo(e,n,i)}s=s.next}while(s!==r)}}function ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ud(t){var e=t.alternate;e!==null&&(t.alternate=null,Ud(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ze],delete e[Pr],delete e[Oo],delete e[Sp],delete e[jp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Md(t){return t.tag===5||t.tag===3||t.tag===4}function du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ds));else if(r!==4&&(t=t.child,t!==null))for(Vo(t,e,n),t=t.sibling;t!==null;)Vo(t,e,n),t=t.sibling}function Ko(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ko(t,e,n),t=t.sibling;t!==null;)Ko(t,e,n),t=t.sibling}var ue=null,We=!1;function pt(t,e,n){for(n=n.child;n!==null;)zd(t,e,n),n=n.sibling}function zd(t,e,n){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(ni,n)}catch{}switch(n.tag){case 5:pe||Nn(n,e);case 6:var r=ue,s=We;ue=null,pt(t,e,n),ue=r,We=s,ue!==null&&(We?(t=ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(We?(t=ue,n=n.stateNode,t.nodeType===8?Fi(t.parentNode,n):t.nodeType===1&&Fi(t,n),Er(t)):Fi(ue,n.stateNode));break;case 4:r=ue,s=We,ue=n.stateNode.containerInfo,We=!0,pt(t,e,n),ue=r,We=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wo(n,e,o),s=s.next}while(s!==r)}pt(t,e,n);break;case 1:if(!pe&&(Nn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,pt(t,e,n),pe=r):pt(t,e,n);break;default:pt(t,e,n)}}function hu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zp),e.forEach(function(r){var s=Jp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,We=!1;break e;case 3:ue=l.stateNode.containerInfo,We=!0;break e;case 4:ue=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(ue===null)throw Error(S(160));zd(i,o,s),ue=null,We=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){J(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fd(e,t),e=e.sibling}function Fd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fe(e,t),Je(t),r&4){try{pr(3,t,t.return),ci(3,t)}catch(_){J(t,t.return,_)}try{pr(5,t,t.return)}catch(_){J(t,t.return,_)}}break;case 1:Fe(e,t),Je(t),r&512&&n!==null&&Nn(n,n.return);break;case 5:if(Fe(e,t),Je(t),r&512&&n!==null&&Nn(n,n.return),t.flags&32){var s=t.stateNode;try{_r(s,"")}catch(_){J(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uc(s,i),yo(l,o);var c=yo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?pc(s,h):d==="dangerouslySetInnerHTML"?hc(s,h):d==="children"?_r(s,h):yl(s,d,h,c)}switch(l){case"input":ho(s,i);break;case"textarea":cc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Tn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Tn(s,!!i.multiple,i.defaultValue,!0):Tn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pr]=i}catch(_){J(t,t.return,_)}}break;case 6:if(Fe(e,t),Je(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){J(t,t.return,_)}}break;case 3:if(Fe(e,t),Je(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(e.containerInfo)}catch(_){J(t,t.return,_)}break;case 4:Fe(e,t),Je(t);break;case 13:Fe(e,t),Je(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jl=X())),r&4&&hu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(pe=(c=pe)||d,Fe(e,t),pe=c):Fe(e,t),Je(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(N=t,d=t.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,y=f.child,f.tag){case 0:case 11:case 14:case 15:pr(4,f,f.return);break;case 1:Nn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){J(r,n,_)}}break;case 5:Nn(f,f.return);break;case 22:if(f.memoizedState!==null){pu(h);continue}}y!==null?(y.return=f,N=y):pu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=fc("display",o))}catch(_){J(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){J(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fe(e,t),Je(t),r&4&&hu(t);break;case 21:break;default:Fe(e,t),Je(t)}}function Je(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Md(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_r(s,""),r.flags&=-33);var i=du(t);Ko(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=du(t);Vo(t,l,o);break;default:throw Error(S(161))}}catch(a){J(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bp(t,e,n){N=t,Bd(t)}function Bd(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||us;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||pe;l=us;var c=pe;if(us=o,(pe=a)&&!c)for(N=s;N!==null;)o=N,a=o.child,o.tag===22&&o.memoizedState!==null?mu(s):a!==null?(a.return=o,N=a):mu(s);for(;i!==null;)N=i,Bd(i),i=i.sibling;N=s,us=l,pe=c}fu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):fu(t)}}function fu(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||ci(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:He(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ya(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ya(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Er(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}pe||e.flags&512&&qo(e)}catch(f){J(e,e.return,f)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function pu(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function mu(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ci(4,e)}catch(a){J(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){J(e,s,a)}}var i=e.return;try{qo(e)}catch(a){J(e,i,a)}break;case 5:var o=e.return;try{qo(e)}catch(a){J(e,o,a)}}}catch(a){J(e,e.return,a)}if(e===t){N=null;break}var l=e.sibling;if(l!==null){l.return=e.return,N=l;break}N=e.return}}var Hp=Math.ceil,Gs=ft.ReactCurrentDispatcher,Gl=ft.ReactCurrentOwner,De=ft.ReactCurrentBatchConfig,D=0,le=null,Z=null,ce=0,Ce=0,Cn=Lt(0),se=0,Ir=null,nn=0,di=0,Ql=0,mr=null,ke=null,Jl=0,Fn=1/0,rt=null,Qs=!1,Go=null,Tt=null,cs=!1,St=null,Js=0,gr=0,Qo=null,bs=-1,Ns=0;function we(){return D&6?X():bs!==-1?bs:bs=X()}function Pt(t){return t.mode&1?D&2&&ce!==0?ce&-ce:bp.transition!==null?(Ns===0&&(Ns=bc()),Ns):(t=M,t!==0||(t=window.event,t=t===void 0?16:Ac(t.type)),t):1}function Ge(t,e,n,r){if(50<gr)throw gr=0,Qo=null,Error(S(185));Mr(t,n,r),(!(D&2)||t!==le)&&(t===le&&(!(D&2)&&(di|=n),se===4&&xt(t,ce)),Ne(t,r),n===1&&D===0&&!(e.mode&1)&&(Fn=X()+500,li&&It()))}function Ne(t,e){var n=t.callbackNode;bf(t,e);var r=As(t,t===le?ce:0);if(r===0)n!==null&&ja(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ja(n),e===1)t.tag===0?Ep(gu.bind(null,t)):Xc(gu.bind(null,t)),_p(function(){!(D&6)&&It()}),n=null;else{switch(Nc(r)){case 1:n=kl;break;case 4:n=jc;break;case 16:n=Rs;break;case 536870912:n=Ec;break;default:n=Rs}n=Jd(n,Hd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hd(t,e){if(bs=-1,Ns=0,D&6)throw Error(S(327));var n=t.callbackNode;if($n()&&t.callbackNode!==n)return null;var r=As(t,t===le?ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ys(t,r);else{e=r;var s=D;D|=2;var i=qd();(le!==t||ce!==e)&&(rt=null,Fn=X()+500,Yt(t,e));do try{Vp();break}catch(l){Wd(t,l)}while(!0);Ll(),Gs.current=i,D=s,Z!==null?e=0:(le=null,ce=0,e=se)}if(e!==0){if(e===2&&(s=ko(t),s!==0&&(r=s,e=Jo(t,s))),e===1)throw n=Ir,Yt(t,0),xt(t,r),Ne(t,X()),n;if(e===6)xt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Wp(s)&&(e=Ys(t,r),e===2&&(i=ko(t),i!==0&&(r=i,e=Jo(t,i))),e===1))throw n=Ir,Yt(t,0),xt(t,r),Ne(t,X()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:qt(t,ke,rt);break;case 3:if(xt(t,r),(r&130023424)===r&&(e=Jl+500-X(),10<e)){if(As(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){we(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Po(qt.bind(null,t,ke,rt),e);break}qt(t,ke,rt);break;case 4:if(xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ke(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hp(r/1960))-r,10<r){t.timeoutHandle=Po(qt.bind(null,t,ke,rt),r);break}qt(t,ke,rt);break;case 5:qt(t,ke,rt);break;default:throw Error(S(329))}}}return Ne(t,X()),t.callbackNode===n?Hd.bind(null,t):null}function Jo(t,e){var n=mr;return t.current.memoizedState.isDehydrated&&(Yt(t,e).flags|=256),t=Ys(t,e),t!==2&&(e=ke,ke=n,e!==null&&Yo(e)),t}function Yo(t){ke===null?ke=t:ke.push.apply(ke,t)}function Wp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~Ql,e&=~di,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ke(e),r=1<<n;t[n]=-1,e&=~r}}function gu(t){if(D&6)throw Error(S(327));$n();var e=As(t,0);if(!(e&1))return Ne(t,X()),null;var n=Ys(t,e);if(t.tag!==0&&n===2){var r=ko(t);r!==0&&(e=r,n=Jo(t,r))}if(n===1)throw n=Ir,Yt(t,0),xt(t,e),Ne(t,X()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,ke,rt),Ne(t,X()),null}function Yl(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(Fn=X()+500,li&&It())}}function rn(t){St!==null&&St.tag===0&&!(D&6)&&$n();var e=D;D|=1;var n=De.transition,r=M;try{if(De.transition=null,M=1,t)return t()}finally{M=r,De.transition=n,D=e,!(D&6)&&It()}}function Xl(){Ce=Cn.current,W(Cn)}function Yt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xp(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(Rl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Us();break;case 3:Mn(),W(Ee),W(ge),Fl();break;case 5:zl(r);break;case 4:Mn();break;case 13:W(K);break;case 19:W(K);break;case 10:Il(r.type._context);break;case 22:case 23:Xl()}n=n.return}if(le=t,Z=t=Ot(t.current,null),ce=Ce=e,se=0,Ir=null,Ql=di=nn=0,ke=mr=null,Qt!==null){for(e=0;e<Qt.length;e++)if(n=Qt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qt=null}return t}function Wd(t,e){do{var n=Z;try{if(Ll(),Ss.current=Ks,Vs){for(var r=G.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vs=!1}if(tn=0,oe=re=G=null,fr=!1,Ar=0,Gl.current=null,n===null||n.return===null){se=1,Ir=e,Z=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ru(o);if(y!==null){y.flags&=-257,su(y,o,l,i,e),y.mode&1&&nu(i,c,e),e=y,a=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(a),e.updateQueue=_}else v.add(a);break e}else{if(!(e&1)){nu(i,c,e),Zl();break e}a=Error(S(426))}}else if(q&&l.mode&1){var j=ru(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),su(j,o,l,i,e),Al(zn(a,l));break e}}i=a=zn(a,l),se!==4&&(se=2),mr===null?mr=[i]:mr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Nd(i,a,e);Ja(i,p);break e;case 1:l=a;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Tt===null||!Tt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Cd(i,l,e);Ja(i,w);break e}}i=i.return}while(i!==null)}Kd(n)}catch(x){e=x,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function qd(){var t=Gs.current;return Gs.current=Ks,t===null?Ks:t}function Zl(){(se===0||se===3||se===2)&&(se=4),le===null||!(nn&268435455)&&!(di&268435455)||xt(le,ce)}function Ys(t,e){var n=D;D|=2;var r=qd();(le!==t||ce!==e)&&(rt=null,Yt(t,e));do try{qp();break}catch(s){Wd(t,s)}while(!0);if(Ll(),D=n,Gs.current=r,Z!==null)throw Error(S(261));return le=null,ce=0,se}function qp(){for(;Z!==null;)Vd(Z)}function Vp(){for(;Z!==null&&!yf();)Vd(Z)}function Vd(t){var e=Qd(t.alternate,t,Ce);t.memoizedProps=t.pendingProps,e===null?Kd(t):Z=e,Gl.current=null}function Kd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mp(n,e),n!==null){n.flags&=32767,Z=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,Z=null;return}}else if(n=Up(n,e,Ce),n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);se===0&&(se=5)}function qt(t,e,n){var r=M,s=De.transition;try{De.transition=null,M=1,Kp(t,e,n,r)}finally{De.transition=s,M=r}return null}function Kp(t,e,n,r){do $n();while(St!==null);if(D&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nf(t,i),t===le&&(Z=le=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cs||(cs=!0,Jd(Rs,function(){return $n(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=M;M=1;var l=D;D|=4,Gl.current=null,Fp(t,n),Fd(n,t),fp(Co),$s=!!No,Co=No=null,t.current=n,Bp(n),vf(),D=l,M=o,De.transition=i}else t.current=n;if(cs&&(cs=!1,St=t,Js=s),i=t.pendingLanes,i===0&&(Tt=null),_f(n.stateNode),Ne(t,X()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qs)throw Qs=!1,t=Go,Go=null,t;return Js&1&&t.tag!==0&&$n(),i=t.pendingLanes,i&1?t===Qo?gr++:(gr=0,Qo=t):gr=0,It(),null}function $n(){if(St!==null){var t=Nc(Js),e=De.transition,n=M;try{if(De.transition=null,M=16>t?16:t,St===null)var r=!1;else{if(t=St,St=null,Js=0,D&6)throw Error(S(331));var s=D;for(D|=4,N=t.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:pr(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,y=d.return;if(Ud(d),d===c){N=null;break}if(f!==null){f.return=y,N=f;break}N=y}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,N=p;break e}N=i.return}}var m=t.current;for(N=m;N!==null;){o=N;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,N=g;else e:for(o=m;N!==null;){if(l=N,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ci(9,l)}}catch(x){J(l,l.return,x)}if(l===o){N=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,N=w;break e}N=l.return}}if(D=s,It(),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(ni,t)}catch{}r=!0}return r}finally{M=n,De.transition=e}}return!1}function yu(t,e,n){e=zn(n,e),e=Nd(t,e,1),t=Ct(t,e,1),e=we(),t!==null&&(Mr(t,1,e),Ne(t,e))}function J(t,e,n){if(t.tag===3)yu(t,t,n);else for(;e!==null;){if(e.tag===3){yu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tt===null||!Tt.has(r))){t=zn(n,t),t=Cd(e,t,1),e=Ct(e,t,1),t=we(),e!==null&&(Mr(e,1,t),Ne(e,t));break}}e=e.return}}function Gp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&n,le===t&&(ce&n)===n&&(se===4||se===3&&(ce&130023424)===ce&&500>X()-Jl?Yt(t,0):Ql|=n),Ne(t,e)}function Gd(t,e){e===0&&(t.mode&1?(e=es,es<<=1,!(es&130023424)&&(es=4194304)):e=1);var n=we();t=dt(t,e),t!==null&&(Mr(t,e,n),Ne(t,n))}function Qp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gd(t,n)}function Jp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Gd(t,n)}var Qd;Qd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return je=!1,Dp(t,e,n);je=!!(t.flags&131072)}else je=!1,q&&e.flags&1048576&&Zc(e,Fs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Es(t,e),t=e.pendingProps;var s=In(e,ge.current);An(e,n),s=Hl(null,e,r,t,s,n);var i=Wl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(i=!0,Ms(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ul(e),s.updater=ui,e.stateNode=s,s._reactInternals=e,Do(e,r,t,n),e=zo(null,e,r,!0,i,n)):(e.tag=0,q&&i&&Ol(e),ve(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Es(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Xp(r),t=He(r,t),s){case 0:e=Mo(null,e,r,t,n);break e;case 1:e=lu(null,e,r,t,n);break e;case 11:e=iu(null,e,r,t,n);break e;case 14:e=ou(null,e,r,He(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),Mo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),lu(t,e,r,s,n);case 3:e:{if(Rd(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,id(t,e),Ws(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zn(Error(S(423)),e),e=au(t,e,r,n,s);break e}else if(r!==s){s=zn(Error(S(424)),e),e=au(t,e,r,n,s);break e}else for(Te=Nt(e.stateNode.containerInfo.firstChild),Pe=e,q=!0,Ve=null,n=rd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),r===s){e=ht(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return od(e),t===null&&$o(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,To(r,s)?o=null:i!==null&&To(r,i)&&(e.flags|=32),Od(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&$o(e),null;case 13:return Ad(t,e,n);case 4:return Ml(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Un(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),iu(t,e,r,s,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(Bs,r._currentValue),r._currentValue=o,i!==null)if(Qe(i.value,o)){if(i.children===s.children&&!Ee.current){e=ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=at(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,An(e,n),s=Me(s),r=r(s),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,s=He(r,e.pendingProps),s=He(r.type,s),ou(t,e,r,s,n);case 15:return Td(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),Es(t,e),e.tag=1,be(r)?(t=!0,Ms(e)):t=!1,An(e,n),bd(e,r,s),Do(e,r,s,n),zo(null,e,r,!0,t,n);case 19:return $d(t,e,n);case 22:return Pd(t,e,n)}throw Error(S(156,e.tag))};function Jd(t,e){return Sc(t,e)}function Yp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,n,r){return new Yp(t,e,n,r)}function ea(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xp(t){if(typeof t=="function")return ea(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wl)return 11;if(t===xl)return 14}return 2}function Ot(t,e){var n=t.alternate;return n===null?(n=Ie(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ea(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vn:return Xt(n.children,s,i,e);case vl:o=8,s|=8;break;case oo:return t=Ie(12,n,e,s|2),t.elementType=oo,t.lanes=i,t;case lo:return t=Ie(13,n,e,s),t.elementType=lo,t.lanes=i,t;case ao:return t=Ie(19,n,e,s),t.elementType=ao,t.lanes=i,t;case oc:return hi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sc:o=10;break e;case ic:o=9;break e;case wl:o=11;break e;case xl:o=14;break e;case yt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ie(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xt(t,e,n,r){return t=Ie(7,t,r,e),t.lanes=n,t}function hi(t,e,n,r){return t=Ie(22,t,r,e),t.elementType=oc,t.lanes=n,t.stateNode={isHidden:!1},t}function Qi(t,e,n){return t=Ie(6,t,null,e),t.lanes=n,t}function Ji(t,e,n){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ta(t,e,n,r,s,i,o,l,a){return t=new Zp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(i),t}function em(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yd(t){if(!t)return At;t=t._reactInternals;e:{if(on(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(be(n))return Yc(t,n,e)}return e}function Xd(t,e,n,r,s,i,o,l,a){return t=ta(n,r,!0,t,s,i,o,l,a),t.context=Yd(null),n=t.current,r=we(),s=Pt(n),i=at(r,s),i.callback=e??null,Ct(n,i,s),t.current.lanes=s,Mr(t,s,r),Ne(t,r),t}function fi(t,e,n,r){var s=e.current,i=we(),o=Pt(s);return n=Yd(n),e.context===null?e.context=n:e.pendingContext=n,e=at(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ct(s,e,o),t!==null&&(Ge(t,s,o,i),ks(t,s,o)),o}function Xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function na(t,e){vu(t,e),(t=t.alternate)&&vu(t,e)}function tm(){return null}var Zd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ra(t){this._internalRoot=t}pi.prototype.render=ra.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));fi(t,e,null,null)};pi.prototype.unmount=ra.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rn(function(){fi(null,t,null,null)}),e[ct]=null}};function pi(t){this._internalRoot=t}pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wt.length&&e!==0&&e<wt[n].priority;n++);wt.splice(n,0,t),n===0&&Rc(t)}};function sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wu(){}function nm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xs(o);i.call(c)}}var o=Xd(e,r,t,0,null,!1,!1,"",wu);return t._reactRootContainer=o,t[ct]=o.current,Cr(t.nodeType===8?t.parentNode:t),rn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Xs(a);l.call(c)}}var a=ta(t,0,!1,null,null,!1,!1,"",wu);return t._reactRootContainer=a,t[ct]=a.current,Cr(t.nodeType===8?t.parentNode:t),rn(function(){fi(e,a,n,r)}),a}function gi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Xs(o);l.call(a)}}fi(e,o,t,s)}else o=nm(n,e,t,s,r);return Xs(o)}Cc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ir(e.pendingLanes);n!==0&&(Sl(e,n|1),Ne(e,X()),!(D&6)&&(Fn=X()+500,It()))}break;case 13:rn(function(){var r=dt(t,1);if(r!==null){var s=we();Ge(r,t,1,s)}}),na(t,1)}};jl=function(t){if(t.tag===13){var e=dt(t,134217728);if(e!==null){var n=we();Ge(e,t,134217728,n)}na(t,134217728)}};Tc=function(t){if(t.tag===13){var e=Pt(t),n=dt(t,e);if(n!==null){var r=we();Ge(n,t,e,r)}na(t,e)}};Pc=function(){return M};Oc=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};wo=function(t,e,n){switch(e){case"input":if(ho(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=oi(r);if(!s)throw Error(S(90));ac(r),ho(r,s)}}}break;case"textarea":cc(t,n);break;case"select":e=n.value,e!=null&&Tn(t,!!n.multiple,e,!1)}};yc=Yl;vc=rn;var rm={usingClientEntryPoint:!1,Events:[Fr,kn,oi,mc,gc,Yl]},tr={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sm={bundleType:tr.bundleType,version:tr.version,rendererPackageName:tr.rendererPackageName,rendererConfig:tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_c(t),t===null?null:t.stateNode},findFiberByHostInstance:tr.findFiberByHostInstance||tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{ni=ds.inject(sm),et=ds}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm;Re.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sa(e))throw Error(S(200));return em(t,e,null,n)};Re.createRoot=function(t,e){if(!sa(t))throw Error(S(299));var n=!1,r="",s=Zd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ta(t,1,!1,null,null,n,!1,r,s),t[ct]=e.current,Cr(t.nodeType===8?t.parentNode:t),new ra(e)};Re.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=_c(e),t=t===null?null:t.stateNode,t};Re.flushSync=function(t){return rn(t)};Re.hydrate=function(t,e,n){if(!mi(e))throw Error(S(200));return gi(null,t,e,!0,n)};Re.hydrateRoot=function(t,e,n){if(!sa(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Xd(e,null,t,1,n??null,s,!1,i,o),t[ct]=e.current,Cr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pi(e)};Re.render=function(t,e,n){if(!mi(e))throw Error(S(200));return gi(null,t,e,!1,n)};Re.unmountComponentAtNode=function(t){if(!mi(t))throw Error(S(40));return t._reactRootContainer?(rn(function(){gi(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Re.unstable_batchedUpdates=Yl;Re.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mi(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return gi(t,e,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eh)}catch(t){console.error(t)}}eh(),ec.exports=Re;var im=ec.exports,th,xu=im;th=xu.createRoot,xu.hydrateRoot;const om="modulepreload",lm=function(t){return"/"+t},_u={},Hr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=lm(a),a in _u)return;_u[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":om,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},am=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Vn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ia extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class um extends ia{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ku extends ia{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Su extends ia{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xo||(Xo={}));var cm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class dm{constructor(e,{headers:n={},customFetch:r,region:s=Xo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=am(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return cm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new um(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new ku(h);if(!h.ok)throw new Su(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Su||s instanceof ku?s.context:void 0}}})}}var Se={},oa={},yi={},Wr={},vi={},wi={},hm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=hm();const fm=Bn.fetch,nh=Bn.fetch.bind(Bn),rh=Bn.Headers,pm=Bn.Request,mm=Bn.Response,Vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:rh,Request:pm,Response:mm,default:nh,fetch:fm},Symbol.toStringTag,{value:"Module"})),gm=Rh(Vn);var xi={};Object.defineProperty(xi,"__esModule",{value:!0});let ym=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xi.default=ym;var sh=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const vm=sh(gm),wm=sh(xi);let xm=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,c;let d=null,h=null,f=null,y=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,y=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,y=200,v="OK")}catch{i.status===404&&j===""?(y=204,v="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,v="OK"),d&&this.shouldThrowOnError)throw new wm.default(d)}return{error:d,data:h,count:f,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};wi.default=xm;var _m=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vi,"__esModule",{value:!0});const km=_m(wi);let Sm=class extends km.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};vi.default=Sm;var jm=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const Em=jm(vi);let bm=class extends Em.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Wr.default=bm;var Nm=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});const nr=Nm(Wr);let Cm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new nr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new nr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new nr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new nr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};yi.default=Cm;var ih=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oa,"__esModule",{value:!0});const Tm=ih(yi),Pm=ih(Wr);let Om=class oh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Tm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new oh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Pm.default({method:l,url:a,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};oa.default=Om;var Kn=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const lh=Kn(oa);Se.PostgrestClient=lh.default;const ah=Kn(yi);Se.PostgrestQueryBuilder=ah.default;const uh=Kn(Wr);Se.PostgrestFilterBuilder=uh.default;const ch=Kn(vi);Se.PostgrestTransformBuilder=ch.default;const dh=Kn(wi);Se.PostgrestBuilder=dh.default;const hh=Kn(xi);Se.PostgrestError=hh.default;var Rm=Se.default={PostgrestClient:lh.default,PostgrestQueryBuilder:ah.default,PostgrestFilterBuilder:uh.default,PostgrestTransformBuilder:ch.default,PostgrestBuilder:dh.default,PostgrestError:hh.default};const{PostgrestClient:Am,PostgrestQueryBuilder:J0,PostgrestFilterBuilder:Y0,PostgrestTransformBuilder:X0,PostgrestBuilder:Z0,PostgrestError:ey}=Rm;class $m{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lm="2.15.5",Im=`realtime-js/${Lm}`,Dm="1.0.0",Zo=1e4,Um=1e3,Mm=100;var yr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yr||(yr={}));var te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(te||(te={}));var qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qe||(qe={}));var el;(function(t){t.websocket="websocket"})(el||(el={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class zm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class fh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const ju=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Fm(o,t,e,s),i),{})},Fm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ph(i,o):tl(o)},ph=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qm(e,n)}switch(t){case F.bool:return Bm(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Hm(e);case F.json:case F.jsonb:return Wm(e);case F.timestamp:return Vm(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return tl(e);default:return tl(e)}},tl=t=>t,Bm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Hm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ph(e,l))}return t},Vm=t=>typeof t=="string"?t.replace(" ","T"):t,mh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Yi{constructor(e,n,r={},s=Zo){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eu||(Eu={}));class vr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=vr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),v=d.filter(j=>y.indexOf(j.presence_ref)<0),_=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(l[c]=v),_.length>0&&(a[c]=_)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bu||(bu={}));var wr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wr||(wr={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class la{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yi(this,qe.join,this.params,this.timeout),this.rejoinTimer=new fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new vr(this),this.broadcastEndpointURL=mh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[wr.PRESENCE]&&this.bindings[wr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(st.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(st.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){e==null||e(st.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<j;m++){const g=_[m],{filter:{event:w,schema:x,table:k,filter:b}}=g,C=y&&y[m];if(C&&C.event===w&&C.schema===x&&C.table===k&&C.filter===b)p.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=te.errored,e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(st.SUBSCRIBED);return}}).receive("error",y=>{this.state=te.errored,e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===te.joined&&e===wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Yi(this,qe.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yi(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Mm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=qe;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,_,j;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(_=y.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,_,j,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,x=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(m=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:j,commit_timestamp:p,type:m,errors:g}=v;f=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(f,r)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&la.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ju(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ju(e.columns,e.old_record)),n}}const Xi=()=>{},hs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Km=[1e3,2e3,5e3,1e4],Gm=1e4,Qm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zo,this.transport=null,this.heartbeatIntervalMs=hs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xi,this.ref=0,this.reconnectTimer=null,this.logger=Xi,this.conn=null,this.sendBuffer=[],this.serializer=new zm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Hr(async()=>{const{default:l}=await Promise.resolve().then(()=>Vn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${el.websocket}`,this.httpEndpoint=mh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$m.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Kt.Connecting;case yr.open:return Kt.Open;case yr.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new la(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Um,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Qm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Im};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Zo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:hs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Xi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>Km[h-1]||Gm,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class aa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ym extends aa{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nl extends aa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Xm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const gh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Vn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Zm=()=>Xm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hr(()=>Promise.resolve().then(()=>Vn),void 0)).Response:Response}),rl=t=>{if(Array.isArray(t))return t.map(n=>rl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=rl(r)}),e},eg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Zi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tg=(t,e,n)=>ln(void 0,void 0,void 0,function*(){const r=yield Zm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ym(Zi(s),i,o))}).catch(s=>{e(new nl(Zi(s),s))}):e(new nl(Zi(t),t))}),ng=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(eg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function qr(t,e,n,r,s,i){return ln(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,ng(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>tg(a,l,r))})})}function Zs(t,e,n,r){return ln(this,void 0,void 0,function*(){return qr(t,"GET",e,n,r)})}function Xe(t,e,n,r,s){return ln(this,void 0,void 0,function*(){return qr(t,"POST",e,r,s,n)})}function sl(t,e,n,r,s){return ln(this,void 0,void 0,function*(){return qr(t,"PUT",e,r,s,n)})}function rg(t,e,n,r){return ln(this,void 0,void 0,function*(){return qr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yh(t,e,n,r,s){return ln(this,void 0,void 0,function*(){return qr(t,"DELETE",e,r,s,n)})}var ye=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const sg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ig{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=gh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Nu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?sl:Xe)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Nu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield sl(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ne(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new aa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}update(e,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ye(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ye(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}download(e,n){return ye(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Zs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}info(e){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}exists(e){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield rg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r)&&r instanceof nl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return ye(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}list(e,n,r){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sg),n),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}listV2(e,n){return ye(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const og="2.12.1",lg={"X-Client-Info":`storage-js/${og}`};var cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class ag{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},lg),n),this.fetch=gh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return cn(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return cn(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}deleteBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}}class ug extends ag{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new ig(this.url,this.headers,e,this.fetch)}}const cg="2.57.4";let lr="";typeof Deno<"u"?lr="deno":typeof document<"u"?lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lr="react-native":lr="node";const dg={"X-Client-Info":`supabase-js-${lr}/${cg}`},hg={headers:dg},fg={schema:"public"},pg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mg={};var gg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const yg=t=>{let e;return t?e=t:typeof fetch>"u"?e=nh:e=fetch,(...n)=>e(...n)},vg=()=>typeof Headers>"u"?rh:Headers,wg=(t,e,n)=>{const r=yg(n),s=vg();return(i,o)=>gg(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var xg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function _g(t){return t.endsWith("/")?t:t+"/"}function kg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>xg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Sg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_g(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vh="2.71.1",mn=30*1e3,il=3,eo=il*mn,jg="http://localhost:9999",Eg="supabase.auth.token",bg={"X-Client-Info":`gotrue-js/${vh}`},ol="X-Supabase-Api-Version",wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ng=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cg=10*60*1e3;class ua extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Tg extends ua{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pg(t){return O(t)&&t.name==="AuthApiError"}class xh extends ua{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Dt extends ua{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class gt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Og(t){return O(t)&&t.name==="AuthSessionMissingError"}class fs extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ps extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ms extends Dt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rg(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cu extends Dt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ll extends Dt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function to(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Tu extends Dt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class al extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pu=` 	
\r=`.split(""),Ag=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pu.length;e+=1)t[Pu[e].charCodeAt(0)]=-2;for(let e=0;e<ei.length;e+=1)t[ei[e].charCodeAt(0)]=e;return t})();function Ou(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ei[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ei[r]),e.queuedBits-=6}}function _h(t,e,n){const r=Ag[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ru(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ig(o,r,n)};for(let o=0;o<t.length;o+=1)_h(t.charCodeAt(o),s,i);return e.join("")}function $g(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$g(r,e)}}function Ig(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Dg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)_h(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Ug(t){const e=[];return Lg(t,n=>e.push(n)),new Uint8Array(e)}function Mg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ou(s,n,r)),Ou(null,n,r),e.join("")}function zg(t){return Math.round(Date.now()/1e3)+t}function Fg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Be=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},kh=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function Bg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Sh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Vn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Hg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ht=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mt=async(t,e)=>{await t.removeItem(e)};class _i{constructor(){this.promise=new _i.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_i.promiseConstructor=Promise;function no(t){const e=t.split(".");if(e.length!==3)throw new al("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ng.test(e[r]))throw new al("JWT not in base64url format");return{header:JSON.parse(Ru(e[0])),payload:JSON.parse(Ru(e[1])),signature:Dg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Vg(t){return("0"+t.toString(16)).substr(-2)}function Kg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Vg).join("")}async function Gg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Gg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(t,e,n=!1){const r=Kg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gn(t,`${e}-code-verifier`,s);const i=await Qg(r);return[i,r===i?"plain":"s256"]}const Jg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(t){const e=t.headers.get(ol);if(!e||!e.match(Jg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hn(t){if(!e0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ro(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Au(t){return JSON.parse(JSON.stringify(t))}var t0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),n0=[502,503,504];async function $u(t){var e;if(!Hg(t))throw new ll(Vt(t),0);if(n0.includes(t.status))throw new ll(Vt(t),t.status);let n;try{n=await t.json()}catch(i){throw new xh(Vt(i),i)}let r;const s=Yg(t);if(s&&s.getTime()>=wh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tu(Vt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Tu(Vt(n),t.status,n.weak_password.reasons);throw new Tg(Vt(n),t.status||500,r)}const r0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ol]||(i[ol]=wh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await s0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function s0(t,e,n,r,s,i){const o=r0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new ll(Vt(a),0)}if(l.ok||await $u(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await $u(a)}}function nt(t){var e;let n=null;a0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=zg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Lu(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function i0(t){return{data:t,error:null}}function o0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=t0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function l0(t){return t}function a0(t){return t.access_token&&t.refresh_token&&t.expires_in}const so=["global","local","others"];var u0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class c0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Sh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=so[0]){if(so.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${so.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_t})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=u0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:o0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_t})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:l0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);c[`${j}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(O(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){hn(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_t})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hn(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_t})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){hn(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_t})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){hn(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hn(e.userId),hn(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Iu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function d0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fn={debug:!!(globalThis&&kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class h0 extends jh{}async function f0(t,e,n){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}d0();const p0={url:jg,storageKey:Eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Du(t,e,n){return await n()}const pn={};class Dr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dr.nextInstanceID,Dr.nextInstanceID+=1,this.instanceID>0&&Be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},p0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new c0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sh(s.fetch),this.lock=s.lock||Du,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Be()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=f0:this.lock=Du,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=pn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Bg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Be()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Rg(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?{error:n}:{error:new xh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await dn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:nt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nt})}else throw new ps("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lu})}else throw new ps("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,f,y;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:j,wallet:p,statement:m,options:g}=e;let w;if(Be())if(typeof p=="object")w=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),m?{statement:m}:null));let b;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")b=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)b=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)v=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),_=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${x.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=k}}try{const{data:j,error:p}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Mg(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:nt});if(p)throw p;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new fs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:p})}catch(j){if(O(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nt});if(await mt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new fs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await dn(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ps("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await dn(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:i0})}catch(i){if(O(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gt;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ps("You must provide either an email or phone number and a type")}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<eo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ro()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_t})})}catch(n){if(O(n))return Og(n)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await dn(this.storage,this.storageKey));const{data:c,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:_t});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=no(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(O(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Be())throw new ms("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ms(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ms("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cu("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new ms("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const y=f-d;y*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Pg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Fg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await dn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(O(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Be()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(O(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qg(async s=>(s>0&&await Wg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&to(i)&&Date.now()+o-r<mn})}catch(r){if(this._debug(n,"error",r),O(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Be()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ht(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await gn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ro()}else if(s&&!s.user&&!s.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await mt(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,s)):s.user=ro()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<eo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${eo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),to(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _i;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),O(i)){const o={session:null,error:i};return to(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Au(s);await gn(this.storage,this.storageKey,i)}else{const s=Au(n);await gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Be()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mn}ms, refresh threshold is ${il} ticks`),s<=il&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await dn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=no(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Cg>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=no(r);n!=null&&n.allowExpired||Xg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=Zg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Ug(`${l}.${a}`)))throw new al("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}}Dr.nextInstanceID=0;const m0=Dr;class g0 extends m0{constructor(e){super(e)}}var y0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class v0{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Sg(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:fg,realtime:mg,auth:Object.assign(Object.assign({},pg),{storageKey:a}),global:hg},d=kg(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=wg(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Am(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ug(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new dm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return y0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Jm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const w0=(t,e,n)=>new v0(t,e,n);function x0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}x0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _0="https://fcjpzecrqjrjyvelrldh.supabase.co",k0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZjanB6ZWNycWpyanl2ZWxybGRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwMzU1NTIsImV4cCI6MjA3NjYxMTU1Mn0.1_n4pN4YKAlclOLJ3Yk9XqDq9q69ht1o7DfAfPlSNyM",U=w0(_0,k0),S0=async t=>{const{email:e,password:n,fullName:r,userType:s,location:i,phone:o}=t,{data:l,error:a}=await U.auth.signUp({email:e,password:n});if(a)throw a;if(!l.user)throw new Error("Failed to create user");const{error:c}=await U.from("profiles").insert({id:l.user.id,full_name:r,user_type:s,location:i||null,phone:o||null});if(c)throw c;return l},j0=async(t,e)=>{const{data:n,error:r}=await U.auth.signInWithPassword({email:t,password:e});if(r)throw r;return n},E0=async()=>{const{error:t}=await U.auth.signOut();if(t)throw t},b0=async t=>{const{data:e,error:n}=await U.from("profiles").select("*").eq("id",t).maybeSingle();if(n)throw n;return e},Eh=P.createContext(void 0),N0=({children:t})=>{const[e,n]=P.useState(null),[r,s]=P.useState(null),[i,o]=P.useState(!0),l=async c=>{const d=await b0(c);s(d)},a=async()=>{e&&await l(e.id)};return P.useEffect(()=>{U.auth.getSession().then(({data:{session:d}})=>{n((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id).finally(()=>o(!1)):o(!1)});const{data:{subscription:c}}=U.auth.onAuthStateChange((d,h)=>{(async()=>(n((h==null?void 0:h.user)??null),h!=null&&h.user?await l(h.user.id):s(null)))()});return()=>c.unsubscribe()},[]),u.jsx(Eh.Provider,{value:{user:e,profile:r,loading:i,refreshProfile:a},children:t})},an=()=>{const t=P.useContext(Eh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>P.createElement("svg",{ref:d,...C0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${T0(t)}`,l].join(" "),...c},[...e.map(([h,f])=>P.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ae("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ae("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),L=({variant:t="primary",size:e="md",className:n="",children:r,...s})=>{const i="font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",o={primary:"bg-green-600 hover:bg-green-700 text-white shadow-md hover:shadow-lg",secondary:"bg-white hover:bg-gray-50 text-green-600 border-2 border-green-600",outline:"bg-transparent hover:bg-gray-50 text-gray-700 border-2 border-gray-300",danger:"bg-red-600 hover:bg-red-700 text-white shadow-md hover:shadow-lg"},l={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-6 py-3 text-lg"};return u.jsx("button",{className:`${i} ${o[t]} ${l[e]} ${n}`,...s,children:r})},L0=({onNavigate:t,currentPage:e})=>{const[n,r]=P.useState(!1),{user:s,profile:i}=an(),o=async()=>{await E0(),t("home")},l=c=>{!s&&["about","how-it-works","contact"].includes(c)?(t("home"),setTimeout(()=>{const d=document.getElementById(c==="how-it-works"?"how-it-works":c);d&&d.scrollIntoView({behavior:"smooth",block:"start"})},100)):t(c)},a=s?[{label:"Dashboard",page:"dashboard"},{label:"Browse",page:"browse"},{label:"Messages",page:"messages"}]:[{label:"Home",page:"home"},{label:"About",page:"about"},{label:"How It Works",page:"how-it-works"},{label:"Contact",page:"contact"}];return u.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>t(s?"dashboard":"home"),children:[u.jsx(Ch,{className:"h-8 w-8 text-green-600"}),u.jsxs("div",{className:"ml-2",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"FarmExchange"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect. Share. Grow."})]})]}),u.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:a.map(c=>u.jsx("button",{onClick:()=>l(c.page),className:`text-sm font-medium transition-colors ${e===c.page?"text-green-600":"text-gray-700 hover:text-green-600"}`,children:c.label},c.page))}),u.jsx("div",{className:"hidden md:flex items-center space-x-4",children:s?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-sm text-gray-700",children:i==null?void 0:i.full_name}),u.jsx(L,{variant:"outline",size:"sm",onClick:o,children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(L,{variant:"outline",size:"sm",onClick:()=>t("login"),children:"Login"}),u.jsx(L,{variant:"primary",size:"sm",onClick:()=>t("signup"),children:"Sign Up"})]})}),u.jsx("button",{className:"md:hidden",onClick:()=>r(!n),children:n?u.jsx(da,{className:"h-6 w-6 text-gray-700"}):u.jsx(O0,{className:"h-6 w-6 text-gray-700"})})]})}),n&&u.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:u.jsxs("div",{className:"px-4 py-3 space-y-2",children:[a.map(c=>u.jsx("button",{onClick:()=>{l(c.page),r(!1)},className:`block w-full text-left px-3 py-2 rounded-md text-sm font-medium ${e===c.page?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:c.label},c.page)),u.jsx("div",{className:"pt-2 space-y-2",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-3 py-2 text-sm text-gray-700",children:i==null?void 0:i.full_name}),u.jsx(L,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{o(),r(!1)},children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(L,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{t("login"),r(!1)},children:"Login"}),u.jsx(L,{variant:"primary",size:"sm",className:"w-full",onClick:()=>{t("signup"),r(!1)},children:"Sign Up"})]})})]})})]})},z=({children:t,className:e="",onClick:n})=>u.jsx("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ${n?"cursor-pointer":""} ${e}`,onClick:n,children:t}),Bu=({onNavigate:t})=>u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("section",{className:"bg-gradient-to-br from-green-50 via-white to-green-50 py-20 px-4",id:"home",children:u.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[u.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Connect with Your Local"," ",u.jsx("span",{className:"text-green-600",children:"Farmers & Gardeners"})]}),u.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"FarmExchange brings fresh, locally-grown produce directly from your community's farmers and gardeners to your table. Support local agriculture while enjoying the freshest harvests available."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(L,{size:"lg",onClick:()=>t("signup"),children:"Get Started"}),u.jsx(L,{variant:"secondary",size:"lg",onClick:()=>t("browse"),children:"Browse Harvests"})]})]})}),u.jsx("section",{className:"py-16 px-4 bg-white scroll-mt-16",id:"about",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Why Choose FarmExchange?"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(z,{className:"p-8 text-center",children:[u.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ch,{className:"h-8 w-8 text-green-600"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Fresh & Local"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Get access to the freshest produce from your local community. Support sustainable agriculture and reduce your carbon footprint."})]}),u.jsxs(z,{className:"p-8 text-center",children:[u.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx($0,{className:"h-8 w-8 text-green-600"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Community First"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Build relationships with local farmers and gardeners. Know where your food comes from and support your neighbors."})]}),u.jsxs(z,{className:"p-8 text-center",children:[u.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Nh,{className:"h-8 w-8 text-green-600"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Easy to Use"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Browse available harvests, connect with sellers, and arrange pickups all through our simple platform."})]})]})]})}),u.jsx("section",{className:"py-16 px-4 bg-gray-50 scroll-mt-16",id:"how-it-works",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"How It Works"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"1"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Create Account"}),u.jsx("p",{className:"text-gray-600",children:"Sign up as a farmer to list your harvests or as a buyer to browse local produce."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"2"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Connect"}),u.jsx("p",{className:"text-gray-600",children:"Browse available harvests and connect with local farmers and gardeners through our messaging system."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"3"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Exchange"}),u.jsx("p",{className:"text-gray-600",children:"Complete transactions and arrange pickups. Support local agriculture and enjoy fresh produce."})]})]})]})}),u.jsx("section",{className:"py-16 px-4 bg-white scroll-mt-16",id:"contact",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx(bh,{className:"h-16 w-16 text-green-600 mx-auto mb-6"}),u.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Have questions? We're here to help you connect with your local food community."}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-8",children:[u.jsxs("p",{className:"text-gray-700 mb-4",children:[u.jsx("strong",{children:"Email:"})," support@farmexchange.com"]}),u.jsxs("p",{className:"text-gray-700",children:[u.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]})]})}),u.jsx("section",{className:"bg-green-600 text-white py-16 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start?"}),u.jsx("p",{className:"text-xl mb-8 text-green-50",children:"Join our community today and discover the freshest local produce."}),u.jsx(L,{variant:"secondary",size:"lg",onClick:()=>t("signup"),children:"Sign Up Now"})]})})]}),me=({label:t,error:e,className:n="",...r})=>u.jsxs("div",{className:"w-full",children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),u.jsx("input",{className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all ${e?"border-red-500":""} ${n}`,...r}),e&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:e})]}),cl=({label:t,error:e,className:n="",...r})=>u.jsxs("div",{className:"w-full",children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),u.jsx("textarea",{className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none ${e?"border-red-500":""} ${n}`,...r}),e&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:e})]}),I0=({onNavigate:t})=>{const[e,n]=P.useState(""),[r,s]=P.useState(""),[i,o]=P.useState(""),[l,a]=P.useState(!1),c=async d=>{d.preventDefault(),o(""),a(!0);try{await j0(e,r),t("dashboard")}catch(h){o(h instanceof Error?h.message:"Failed to sign in")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Sign in to your FarmExchange account"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),u.jsx(me,{type:"email",label:"Email Address",placeholder:"you@example.com",value:e,onChange:d=>n(d.target.value),required:!0}),u.jsx(me,{type:"password",label:"Password",placeholder:"Enter your password",value:r,onChange:d=>s(d.target.value),required:!0}),u.jsx(L,{type:"submit",className:"w-full",disabled:l,children:l?"Signing in...":"Sign In"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",u.jsx("button",{onClick:()=>t("signup"),className:"text-green-600 hover:text-green-700 font-medium",children:"Sign up"})]})})]})})},D0=({onNavigate:t})=>{const[e,n]=P.useState({email:"",password:"",confirmPassword:"",fullName:"",userType:"buyer",location:"",phone:""}),[r,s]=P.useState(""),[i,o]=P.useState(!1),l=async c=>{if(c.preventDefault(),s(""),e.password!==e.confirmPassword){s("Passwords do not match");return}if(e.password.length<6){s("Password must be at least 6 characters");return}o(!0);try{await S0({email:e.email,password:e.password,fullName:e.fullName,userType:e.userType,location:e.location,phone:e.phone}),t("dashboard")}catch(d){s(d instanceof Error?d.message:"Failed to sign up")}finally{o(!1)}},a=(c,d)=>{n(h=>({...h,[c]:d}))};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Join FarmExchange"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Create your account to get started"})]}),u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[r&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(me,{type:"text",label:"Full Name",placeholder:"John Doe",value:e.fullName,onChange:c=>a("fullName",c.target.value),required:!0}),u.jsx(me,{type:"email",label:"Email Address",placeholder:"you@example.com",value:e.email,onChange:c=>a("email",c.target.value),required:!0}),u.jsx(me,{type:"password",label:"Password",placeholder:"At least 6 characters",value:e.password,onChange:c=>a("password",c.target.value),required:!0}),u.jsx(me,{type:"password",label:"Confirm Password",placeholder:"Re-enter password",value:e.confirmPassword,onChange:c=>a("confirmPassword",c.target.value),required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),u.jsxs("select",{value:e.userType,onChange:c=>a("userType",c.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"buyer",children:"Buyer"}),u.jsx("option",{value:"farmer",children:"Farmer/Gardener"})]})]}),u.jsx(me,{type:"tel",label:"Phone Number",placeholder:"(555) 123-4567",value:e.phone,onChange:c=>a("phone",c.target.value)})]}),u.jsx(me,{type:"text",label:"Location",placeholder:"City, State",value:e.location,onChange:c=>a("location",c.target.value)}),u.jsx(L,{type:"submit",className:"w-full",disabled:i,children:i?"Creating Account...":"Sign Up"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",u.jsx("button",{onClick:()=>t("login"),className:"text-green-600 hover:text-green-700 font-medium",children:"Sign in"})]})})]})})},U0=({onNavigate:t})=>{const{profile:e}=an(),[n,r]=P.useState([]),[s,i]=P.useState([]),[o,l]=P.useState(0),[a,c]=P.useState(!0);P.useEffect(()=>{d()},[e]);const d=async()=>{if(e)try{if(e.user_type==="farmer"){const{data:y}=await U.from("harvests").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);r(y||[]);const{data:v}=await U.from("transactions").select("*, harvests(title)").eq("seller_id",e.id).order("transaction_date",{ascending:!1}).limit(5);i(v||[])}else{const{data:y}=await U.from("transactions").select("*, harvests(title)").eq("buyer_id",e.id).order("transaction_date",{ascending:!1}).limit(5);i(y||[])}const{count:f}=await U.from("messages").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("is_read",!1);l(f||0)}catch(f){console.error("Error loading dashboard data:",f)}finally{c(!1)}},h=async f=>{if(confirm("Are you sure you want to delete this harvest?"))try{await U.from("harvests").delete().eq("id",f),r(n.filter(y=>y.id!==f))}catch(y){console.error("Error deleting harvest:",y)}};return a?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.full_name,"!"]}),u.jsx("p",{className:"text-gray-600 mt-2",children:(e==null?void 0:e.user_type)==="farmer"?"Manage your harvests and track your sales":"Browse harvests and track your purchases"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:(e==null?void 0:e.user_type)==="farmer"?"Active Listings":"Total Purchases"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:(e==null?void 0:e.user_type)==="farmer"?n.length:s.length})]}),u.jsx(zu,{className:"h-12 w-12 text-green-600"})]})}),u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:"Unread Messages"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o})]}),u.jsx(Mu,{className:"h-12 w-12 text-green-600"})]})}),u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:(e==null?void 0:e.user_type)==="farmer"?"Total Sales":"Transactions"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.length})]}),u.jsx(ul,{className:"h-12 w-12 text-green-600"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(e==null?void 0:e.user_type)==="farmer"&&u.jsxs(z,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Harvests"}),u.jsxs(L,{size:"sm",onClick:()=>t("manage-harvests"),children:[u.jsx(ca,{className:"h-4 w-4 mr-1"}),"Add New"]})]}),n.length===0?u.jsx("p",{className:"text-gray-600 text-center py-8",children:"No harvests yet. Create your first listing!"}):u.jsx("div",{className:"space-y-3",children:n.map(f=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:f.title}),u.jsxs("p",{className:"text-sm text-gray-600",children:["$",f.price,"/",f.unit,"  ",f.quantity_available," ",f.unit," available"]}),u.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${f.status==="available"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:f.status})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t("manage-harvests"),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(Th,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>h(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Ph,{className:"h-4 w-4"})})]})]},f.id))})]}),u.jsxs(z,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Recent ",(e==null?void 0:e.user_type)==="farmer"?"Sales":"Purchases"]}),u.jsx(L,{variant:"outline",size:"sm",onClick:()=>t("transactions"),children:"View All"})]}),s.length===0?u.jsx("p",{className:"text-gray-600 text-center py-8",children:"No transactions yet."}):u.jsx("div",{className:"space-y-3",children:s.map(f=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:f.harvests.title}),u.jsxs("p",{className:"text-sm text-gray-600",children:[f.quantity," units  $",f.total_price.toFixed(2)]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.transaction_date).toLocaleDateString()})]},f.id))})]}),(e==null?void 0:e.user_type)==="buyer"&&u.jsxs(z,{className:"p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(L,{variant:"outline",className:"w-full justify-start",onClick:()=>t("browse"),children:[u.jsx(zu,{className:"h-5 w-5 mr-2"}),"Browse Harvests"]}),u.jsxs(L,{variant:"outline",className:"w-full justify-start",onClick:()=>t("messages"),children:[u.jsx(Mu,{className:"h-5 w-5 mr-2"}),"View Messages"]})]})]})]})]})})},M0=({onNavigate:t})=>{const{profile:e}=an(),[n,r]=P.useState([]),[s,i]=P.useState(!1),[o,l]=P.useState(null),[a,c]=P.useState(!0),[d,h]=P.useState({title:"",description:"",category:"vegetables",price:"",unit:"kg",quantity_available:"",image_url:"",harvest_date:""});P.useEffect(()=>{f()},[e]);const f=async()=>{if(e)try{const{data:p}=await U.from("harvests").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});r(p||[])}catch(p){console.error("Error loading harvests:",p)}finally{c(!1)}},y=async p=>{if(p.preventDefault(),!e)return;const m={title:d.title,description:d.description,category:d.category,price:parseFloat(d.price),unit:d.unit,quantity_available:parseFloat(d.quantity_available),image_url:d.image_url||null,harvest_date:d.harvest_date||null,user_id:e.id,status:"available"};try{o?await U.from("harvests").update(m).eq("id",o):await U.from("harvests").insert(m),await f(),j()}catch(g){console.error("Error saving harvest:",g)}},v=p=>{h({title:p.title,description:p.description,category:p.category,price:p.price.toString(),unit:p.unit,quantity_available:p.quantity_available.toString(),image_url:p.image_url||"",harvest_date:p.harvest_date||""}),l(p.id),i(!0)},_=async p=>{if(confirm("Are you sure you want to delete this harvest?"))try{await U.from("harvests").delete().eq("id",p),r(n.filter(m=>m.id!==p))}catch(m){console.error("Error deleting harvest:",m)}},j=()=>{h({title:"",description:"",category:"vegetables",price:"",unit:"kg",quantity_available:"",image_url:"",harvest_date:""}),l(null),i(!1)};return(e==null?void 0:e.user_type)!=="farmer"?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs(z,{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"This page is only available to farmers and gardeners."}),u.jsx(L,{onClick:()=>t("dashboard"),children:"Go to Dashboard"})]})}):a?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-600",children:"Loading harvests..."})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Harvests"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your harvest listings"})]}),u.jsxs(L,{onClick:()=>i(!0),children:[u.jsx(ca,{className:"h-5 w-5 mr-2"}),"Add Harvest"]})]}),s&&u.jsxs(z,{className:"p-6 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:o?"Edit Harvest":"Add New Harvest"}),u.jsx("button",{onClick:j,className:"text-gray-500 hover:text-gray-700",children:u.jsx(da,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(me,{label:"Harvest Title",placeholder:"e.g., Fresh Tomatoes",value:d.title,onChange:p=>h({...d,title:p.target.value}),required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),u.jsxs("select",{value:d.category,onChange:p=>h({...d,category:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"vegetables",children:"Vegetables"}),u.jsx("option",{value:"fruits",children:"Fruits"}),u.jsx("option",{value:"herbs",children:"Herbs"}),u.jsx("option",{value:"grains",children:"Grains"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsx(me,{type:"number",step:"0.01",label:"Price per Unit",placeholder:"0.00",value:d.price,onChange:p=>h({...d,price:p.target.value}),required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measurement"}),u.jsxs("select",{value:d.unit,onChange:p=>h({...d,unit:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"kg",children:"Kilogram (kg)"}),u.jsx("option",{value:"lb",children:"Pound (lb)"}),u.jsx("option",{value:"bunch",children:"Bunch"}),u.jsx("option",{value:"dozen",children:"Dozen"}),u.jsx("option",{value:"piece",children:"Piece"})]})]}),u.jsx(me,{type:"number",step:"0.01",label:"Quantity Available",placeholder:"0.00",value:d.quantity_available,onChange:p=>h({...d,quantity_available:p.target.value}),required:!0}),u.jsx(me,{type:"date",label:"Harvest Date",value:d.harvest_date,onChange:p=>h({...d,harvest_date:p.target.value})})]}),u.jsx(cl,{label:"Description",placeholder:"Describe your harvest...",value:d.description,onChange:p=>h({...d,description:p.target.value}),rows:4}),u.jsx(me,{type:"url",label:"Image URL (Optional)",placeholder:"https://example.com/image.jpg",value:d.image_url,onChange:p=>h({...d,image_url:p.target.value})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(L,{type:"submit",children:o?"Update Harvest":"Create Harvest"}),u.jsx(L,{type:"button",variant:"outline",onClick:j,children:"Cancel"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length===0?u.jsx("div",{className:"col-span-full text-center py-12",children:u.jsx("p",{className:"text-gray-600",children:"No harvests yet. Create your first listing!"})}):n.map(p=>u.jsxs(z,{className:"overflow-hidden",children:[p.image_url&&u.jsx("img",{src:p.image_url,alt:p.title,className:"w-full h-48 object-cover"}),u.jsxs("div",{className:"p-5",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p.title}),u.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:p.description}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",p.price,"/",p.unit]}),u.jsxs("span",{className:"text-sm text-gray-600",children:[p.quantity_available," ",p.unit," available"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(L,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(p),children:[u.jsx(Th,{className:"h-4 w-4 mr-1"}),"Edit"]}),u.jsxs(L,{variant:"danger",size:"sm",className:"flex-1",onClick:()=>_(p.id),children:[u.jsx(Ph,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},p.id))})]})})},z0=({onNavigate:t})=>{const{user:e,profile:n}=an(),[r,s]=P.useState([]),[i,o]=P.useState([]),[l,a]=P.useState(""),[c,d]=P.useState("all"),[h,f]=P.useState(!0),[y,v]=P.useState(null),[_,j]=P.useState("1");P.useEffect(()=>{p()},[]),P.useEffect(()=>{m()},[l,c,r]);const p=async()=>{try{const{data:x}=await U.from("harvests").select("*, profiles(full_name, location)").eq("status","available").gt("quantity_available",0).order("created_at",{ascending:!1});s(x||[]),o(x||[])}catch(x){console.error("Error loading harvests:",x)}finally{f(!1)}},m=()=>{let x=r;l&&(x=x.filter(k=>k.title.toLowerCase().includes(l.toLowerCase())||k.description.toLowerCase().includes(l.toLowerCase())||k.profiles.full_name.toLowerCase().includes(l.toLowerCase()))),c!=="all"&&(x=x.filter(k=>k.category===c)),o(x)},g=async()=>{if(!e||!n||!y)return;const x=parseFloat(_);if(x<=0||x>y.quantity_available){alert("Invalid quantity");return}try{const k=x*y.price,{data:b}=await U.from("profiles").select("id").eq("id",y.user_id).single();await U.from("transactions").insert({harvest_id:y.id,buyer_id:n.id,seller_id:b==null?void 0:b.id,quantity:x,total_price:k,status:"pending"});const C=y.quantity_available-x;await U.from("harvests").update({quantity_available:C,status:C===0?"sold_out":"available"}).eq("id",y.id),alert("Purchase request submitted successfully!"),v(null),j("1"),p()}catch(k){console.error("Error creating transaction:",k),alert("Failed to complete purchase")}},w=async x=>{if(!e||!n){t("login");return}t("messages")};return h?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-600",children:"Loading harvests..."})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Browse Harvests"}),u.jsx("p",{className:"text-gray-600",children:"Discover fresh, locally-grown produce from your community"})]}),u.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(R0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(me,{type:"text",placeholder:"Search harvests, farmers, or locations...",value:l,onChange:x=>a(x.target.value),className:"pl-10"})]}),u.jsx("div",{children:u.jsxs("select",{value:c,onChange:x=>d(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Categories"}),u.jsx("option",{value:"vegetables",children:"Vegetables"}),u.jsx("option",{value:"fruits",children:"Fruits"}),u.jsx("option",{value:"herbs",children:"Herbs"}),u.jsx("option",{value:"grains",children:"Grains"}),u.jsx("option",{value:"other",children:"Other"})]})})]}),i.length===0?u.jsx(z,{className:"p-12 text-center",children:u.jsx("p",{className:"text-gray-600 text-lg",children:"No harvests found. Try adjusting your filters."})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(x=>u.jsxs(z,{className:"overflow-hidden flex flex-col",children:[x.image_url?u.jsx("img",{src:x.image_url,alt:x.title,className:"w-full h-48 object-cover"}):u.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:u.jsx("span",{className:"text-4xl",children:""})}),u.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.title}),u.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:x.category})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:x.description}),u.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[u.jsx("p",{className:"font-medium",children:x.profiles.full_name}),x.profiles.location&&u.jsx("p",{className:"text-xs",children:x.profiles.location})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",x.price.toFixed(2),"/",x.unit]}),u.jsxs("span",{className:"text-sm text-gray-600",children:[x.quantity_available," ",x.unit," left"]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[e&&(n==null?void 0:n.user_type)==="buyer"&&u.jsxs(L,{size:"sm",className:"flex-1",onClick:()=>v(x),children:[u.jsx(A0,{className:"h-4 w-4 mr-1"}),"Buy"]}),u.jsxs(L,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>w(),children:[u.jsx(bh,{className:"h-4 w-4 mr-1"}),"Message"]})]})]})]},x.id))})]}),y&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs(z,{className:"max-w-md w-full p-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Purchase ",y.title]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-gray-600 mb-2",children:["Price: $",y.price.toFixed(2),"/",y.unit]}),u.jsxs("p",{className:"text-gray-600 mb-2",children:["Available: ",y.quantity_available," ",y.unit]})]}),u.jsx(me,{type:"number",label:"Quantity",step:"0.01",min:"0.01",max:y.quantity_available,value:_,onChange:x=>j(x.target.value)}),u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:u.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Total: $",(parseFloat(_||"0")*y.price).toFixed(2)]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(L,{onClick:g,className:"flex-1",children:"Confirm Purchase"}),u.jsx(L,{variant:"outline",onClick:()=>{v(null),j("1")},className:"flex-1",children:"Cancel"})]})]})]})})]})},F0=({onNavigate:t})=>{const{profile:e}=an(),[n,r]=P.useState([]),[s,i]=P.useState(null),[o,l]=P.useState(!1),[a,c]=P.useState(!1),[d,h]=P.useState([]),[f,y]=P.useState([]),[v,_]=P.useState(!0),[j,p]=P.useState({recipient_id:"",subject:"",content:""}),[m,g]=P.useState("");P.useEffect(()=>{e&&(w(),x(),k())},[e]);const w=async()=>{if(e)try{const{data:E}=await U.from("messages").select("*, sender:profiles!messages_sender_id_fkey(full_name), recipient:profiles!messages_recipient_id_fkey(full_name)").eq("sender_id",e.id).order("created_at",{ascending:!1}),{data:ee}=await U.from("messages").select("*, sender:profiles!messages_sender_id_fkey(full_name), recipient:profiles!messages_recipient_id_fkey(full_name)").eq("recipient_id",e.id).order("created_at",{ascending:!1}),Ut=[...E||[],...ee||[]].sort((Mt,Vr)=>new Date(Vr.created_at).getTime()-new Date(Mt.created_at).getTime());r(Ut)}catch(E){console.error("Error loading messages:",E)}finally{_(!1)}},x=async()=>{try{const{data:E}=await U.from("profiles").select("id, full_name").eq("user_type","farmer");h(E||[])}catch(E){console.error("Error loading farmers:",E)}},k=async()=>{try{const{data:E}=await U.from("profiles").select("id, full_name, user_type");y(E||[])}catch(E){console.error("Error loading users:",E)}},b=async E=>{if(E.preventDefault(),!!e)try{await U.from("messages").insert({sender_id:e.id,recipient_id:j.recipient_id,subject:j.subject,content:j.content,is_read:!1}),p({recipient_id:"",subject:"",content:""}),l(!1),w()}catch(ee){console.error("Error sending message:",ee)}},C=async E=>{i(E),c(!1),g(""),!E.is_read&&E.recipient_id===(e==null?void 0:e.id)&&(await U.from("messages").update({is_read:!0}).eq("id",E.id),w())},V=async E=>{if(E.preventDefault(),!(!e||!s))try{const ee=s.sender_id===e.id?s.recipient_id:s.sender_id;await U.from("messages").insert({sender_id:e.id,recipient_id:ee,subject:`Re: ${s.subject}`,content:m,is_read:!1}),g(""),c(!1),w()}catch(ee){console.error("Error sending reply:",ee)}};return e?v?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-600",children:"Loading messages..."})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Communicate with buyers and sellers"})]}),u.jsxs(L,{onClick:()=>l(!0),children:[u.jsx(ca,{className:"h-5 w-5 mr-2"}),"New Message"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs(z,{className:"p-4",children:[u.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"All Messages"}),n.length===0?u.jsx("p",{className:"text-gray-600 text-center py-8 text-sm",children:"No messages yet"}):u.jsx("div",{className:"space-y-2",children:n.map(E=>u.jsxs("div",{onClick:()=>C(E),className:`p-3 rounded-lg cursor-pointer transition-colors ${(s==null?void 0:s.id)===E.id?"bg-green-50 border-2 border-green-200":"bg-gray-50 hover:bg-gray-100"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-1",children:[u.jsx("span",{className:"font-medium text-sm text-gray-900 truncate flex-1",children:E.sender_id===e.id?`To: ${E.recipient.full_name}`:E.sender.full_name}),!E.is_read&&E.recipient_id===e.id&&u.jsx(Uu,{className:"h-4 w-4 text-green-600 flex-shrink-0 ml-2"})]}),u.jsx("p",{className:"text-xs text-gray-600 truncate",children:E.subject}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(E.created_at).toLocaleDateString()})]},E.id))})]})}),u.jsx("div",{className:"lg:col-span-2 space-y-6",children:s?u.jsxs(u.Fragment,{children:[u.jsxs(z,{className:"p-6",children:[u.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.subject}),s.is_read?u.jsx(P0,{className:"h-5 w-5 text-gray-400"}):u.jsx(Uu,{className:"h-5 w-5 text-green-600"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[u.jsx("span",{children:s.sender_id===e.id?u.jsxs(u.Fragment,{children:["To: ",s.recipient.full_name]}):u.jsxs(u.Fragment,{children:["From: ",s.sender.full_name]})}),u.jsx("span",{children:new Date(s.created_at).toLocaleString()})]})]}),u.jsx("div",{className:"prose max-w-none mb-4",children:u.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.content})}),u.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:u.jsxs(L,{onClick:()=>c(!a),children:[u.jsx(gs,{className:"h-4 w-4 mr-2"}),"Reply"]})})]}),a&&u.jsxs(z,{className:"p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Reply to ",s.sender_id===e.id?s.recipient.full_name:s.sender.full_name]}),u.jsxs("form",{onSubmit:V,className:"space-y-4",children:[u.jsx(cl,{label:"Your Reply",placeholder:"Write your reply...",value:m,onChange:E=>g(E.target.value),rows:6,required:!0}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(L,{type:"submit",children:[u.jsx(gs,{className:"h-4 w-4 mr-2"}),"Send Reply"]}),u.jsx(L,{type:"button",variant:"outline",onClick:()=>{c(!1),g("")},children:"Cancel"})]})]})]})]}):u.jsxs(z,{className:"p-12 text-center",children:[u.jsx(gs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Select a message to view or compose a new one"})]})})]})]}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs(z,{className:"max-w-2xl w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"New Message"}),u.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx(da,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),u.jsxs("select",{value:j.recipient_id,onChange:E=>p({...j,recipient_id:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"",children:"Select a user..."}),(e==null?void 0:e.user_type)==="buyer"?u.jsx(u.Fragment,{children:u.jsx("optgroup",{label:"Farmers",children:d.map(E=>u.jsx("option",{value:E.id,children:E.full_name},E.id))})}):u.jsx(u.Fragment,{children:u.jsx("optgroup",{label:"All Users",children:f.filter(E=>E.id!==(e==null?void 0:e.id)).map(E=>u.jsx("option",{value:E.id,children:E.full_name},E.id))})})]})]}),u.jsx(me,{label:"Subject",placeholder:"Message subject",value:j.subject,onChange:E=>p({...j,subject:E.target.value}),required:!0}),u.jsx(cl,{label:"Message",placeholder:"Write your message...",value:j.content,onChange:E=>p({...j,content:E.target.value}),rows:6,required:!0}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(L,{type:"submit",className:"flex-1",children:[u.jsx(gs,{className:"h-4 w-4 mr-2"}),"Send Message"]}),u.jsx(L,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})]})})]}):u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs(z,{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sign In Required"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to view messages."}),u.jsx(L,{onClick:()=>t("login"),children:"Sign In"})]})})},B0=({onNavigate:t})=>{const{profile:e}=an(),[n,r]=P.useState([]),[s,i]=P.useState("all"),[o,l]=P.useState(!0);P.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{let f=U.from("transactions").select(`
          *,
          harvests(title, unit),
          buyer:profiles!transactions_buyer_id_fkey(full_name, phone),
          seller:profiles!transactions_seller_id_fkey(full_name, phone)
        `).order("transaction_date",{ascending:!1});e.user_type==="farmer"?f=f.eq("seller_id",e.id):f=f.eq("buyer_id",e.id);const{data:y}=await f;r(y||[])}catch(f){console.error("Error loading transactions:",f)}finally{l(!1)}},c=async(f,y)=>{try{await U.from("transactions").update({status:y}).eq("id",f),a()}catch(v){console.error("Error updating transaction:",v)}},d=s==="all"?n:n.filter(f=>f.status===s),h={total:n.length,pending:n.filter(f=>f.status==="pending").length,completed:n.filter(f=>f.status==="completed").length,totalRevenue:n.filter(f=>f.status==="completed").reduce((f,y)=>f+y.total_price,0)};return e?o?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-600",children:"Loading transactions..."})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transaction History"}),u.jsx("p",{className:"text-gray-600 mt-2",children:e.user_type==="farmer"?"View and manage your sales":"Track your purchases"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:"Total Transactions"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:h.total})]}),u.jsx(Fu,{className:"h-10 w-10 text-green-600"})]})}),u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:"Pending"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:h.pending})]}),u.jsx(Nh,{className:"h-10 w-10 text-yellow-600"})]})}),u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:"Completed"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:h.completed})]}),u.jsx(ul,{className:"h-10 w-10 text-green-600"})]})}),u.jsx(z,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-sm",children:e.user_type==="farmer"?"Total Revenue":"Total Spent"}),u.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:["$",h.totalRevenue.toFixed(2)]})]}),u.jsx(ul,{className:"h-10 w-10 text-green-600"})]})})]}),u.jsxs(z,{className:"p-6",children:[u.jsx("div",{className:"mb-6 flex items-center justify-between",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(L,{variant:s==="all"?"primary":"outline",size:"sm",onClick:()=>i("all"),children:"All"}),u.jsx(L,{variant:s==="pending"?"primary":"outline",size:"sm",onClick:()=>i("pending"),children:"Pending"}),u.jsx(L,{variant:s==="completed"?"primary":"outline",size:"sm",onClick:()=>i("completed"),children:"Completed"}),u.jsx(L,{variant:s==="cancelled"?"primary":"outline",size:"sm",onClick:()=>i("cancelled"),children:"Cancelled"})]})}),d.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Fu,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"No transactions found"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Product"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:e.user_type==="farmer"?"Buyer":"Seller"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Quantity"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Status"}),e.user_type==="farmer"&&u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(f.transaction_date).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.harvests.title}),u.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.user_type==="farmer"?f.buyer.full_name:f.seller.full_name,(e.user_type==="farmer"?f.buyer.phone:f.seller.phone)&&u.jsx("div",{className:"text-xs text-gray-500",children:e.user_type==="farmer"?f.buyer.phone:f.seller.phone})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[f.quantity," ",f.harvests.unit]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",f.total_price.toFixed(2)]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-block px-3 py-1 text-xs rounded-full ${f.status==="completed"?"bg-green-100 text-green-700":f.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:f.status})}),e.user_type==="farmer"&&u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.status==="pending"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>c(f.id,"completed"),className:"text-green-600 hover:text-green-800 font-medium",children:"Complete"}),u.jsx("button",{onClick:()=>c(f.id,"cancelled"),className:"text-red-600 hover:text-red-800 font-medium",children:"Cancel"})]})})]},f.id))})]})})]})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs(z,{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sign In Required"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to view transactions."}),u.jsx(L,{onClick:()=>t("login"),children:"Sign In"})]})})};function H0(){const{user:t,loading:e}=an(),[n,r]=P.useState("home");P.useEffect(()=>{e||(t&&(n==="home"||n==="login"||n==="signup")?r("dashboard"):!t&&["dashboard","manage-harvests","messages","transactions"].includes(n)&&r("home"))},[t,e]);const s=i=>{r(i),window.scrollTo(0,0)};return e?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-600",children:"Loading..."})}):u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(L0,{onNavigate:s,currentPage:n}),n==="home"&&u.jsx(Bu,{onNavigate:s}),n==="login"&&u.jsx(I0,{onNavigate:s}),n==="signup"&&u.jsx(D0,{onNavigate:s}),n==="dashboard"&&u.jsx(U0,{onNavigate:s}),n==="manage-harvests"&&u.jsx(M0,{onNavigate:s}),n==="browse"&&u.jsx(z0,{onNavigate:s}),n==="messages"&&u.jsx(F0,{onNavigate:s}),n==="transactions"&&u.jsx(B0,{onNavigate:s}),["about","how-it-works","contact"].includes(n)&&u.jsx(Bu,{onNavigate:s})]})}function W0(){return u.jsx(N0,{children:u.jsx(H0,{})})}th(document.getElementById("root")).render(u.jsx(P.StrictMode,{children:u.jsx(W0,{})}));
